import{a as B,b as W,c as D,d as X,e as q,f as H,j as G,k as U,l as Y,n as $,o as ee,p as te,q as ie,r as ne,t as re}from"./chunk-YUMRVNJN.js";import{a as oe}from"./chunk-J23OXXWK.js";import{a as v}from"./chunk-Y7FABB3Q.js";import{D as c,E as P,Ha as K,I as C,K as m,Ka as J,M as n,N as r,Na as Q,O as d,R as O,S as u,T as s,Y as a,_ as R,aa as S,ba as k,ca as V,e as E,h as I,m as L,n as _,na as F,p as M,pa as j,q as x,r as b,sa as N,ta as z,u as p,v as l,va as Z,wa as w,ya as f}from"./chunk-RUZQDE4M.js";import{d as h}from"./chunk-U3NIYLHF.js";var T=(()=>{class t{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.isAuthenticated().pipe(I(1),E(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static{this.\u0275fac=function(i){return new(i||t)(M(v),M(w))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ge(t,A){if(t&1&&(n(0,"div",22),a(1),r()),t&2){let e=s(2);m("ngClass",e.messageType),c(),R(" ",e.message," ")}}function ue(t,A){if(t&1){let e=O();n(0,"div",23)(1,"button",24),u("click",function(){p(e);let o=s(2);return l(o.resendVerification())}),a(2," Resend Verification Email "),r()()}}function fe(t,A){if(t&1){let e=O();n(0,"div")(1,"form",5),u("ngSubmit",function(){p(e);let o=s();return l(o.login())}),n(2,"div",6),d(3,"img",7),n(4,"h1",8),a(5,"Human Resource "),d(6,"br"),a(7," Management Office"),r()(),d(8,"hr",9),C(9,ge,2,2,"div",10),n(10,"div",11)(11,"input",12),V("ngModelChange",function(o){p(e);let g=s();return k(g.email,o)||(g.email=o),l(o)}),r(),n(12,"label",13),a(13,"Email address"),r()(),n(14,"div",14)(15,"input",15),V("ngModelChange",function(o){p(e);let g=s();return k(g.password,o)||(g.password=o),l(o)}),r(),n(16,"label",16),a(17,"Password"),r(),n(18,"i",17),u("click",function(){p(e);let o=s();return l(o.togglePasswordVisibility())}),r()(),C(19,ue,3,0,"div",18),n(20,"div",19)(21,"button",20),a(22,"Login"),r(),d(23,"br"),n(24,"a",21),u("click",function(){p(e);let o=s();return l(o.resetPassword())}),a(25,"Forgot Password?"),r()()()()}if(t&2){let e=s();c(9),m("ngIf",e.message),c(2),S("ngModel",e.email),c(4),m("type",e.passwordFieldType),S("ngModel",e.password),c(3),m("ngClass",e.passwordFieldType==="password"?"fa-eye":"fa-eye-slash"),c(),m("ngIf",e.showResendButton)}}var ae=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password="",this.passwordFieldType="password",this.isLoginView=!0,this.message="",this.messageType="",this.showResendButton=!1}login(){return h(this,null,function*(){if(this.email=this.email.trim(),this.password=this.password.trim(),!this.email||!this.password){this.message="Email and password must not be empty",this.messageType="error";return}if(!this.isValidEmail(this.email)){this.message="Invalid email format",this.messageType="error";return}try{let e=yield this.authService.login(this.email,this.password);e.success?this.router.navigate(["/home"]):(this.message=e.message,this.messageType="error",this.showResendButton=e.message.includes("verify"))}catch(e){this.message=e.message,this.messageType="error",console.error("Login failed",e)}})}resendVerification(){return h(this,null,function*(){try{let e=yield this.authService.resendVerificationEmail();this.message=e.message,this.messageType=e.success?"success":"error"}catch(e){this.message=e.message,this.messageType="error",console.error("Failed to resend verification email",e)}})}resetPassword(){return h(this,null,function*(){if(!this.isValidEmail(this.email)){this.message="Enter a valid email to reset password",this.messageType="error";return}try{let e=yield this.authService.resetPassword(this.email);this.message=e.message,this.messageType=e.success?"success":"error"}catch(e){this.message=e.message,this.messageType="error",console.error("Password reset failed",e)}})}togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static{this.\u0275fac=function(i){return new(i||t)(P(v),P(w))}}static{this.\u0275cmp=x({type:t,selectors:[["app-login"]],decls:5,vars:1,consts:[[1,"vh-100"],[1,"container","h-100","w-25"],[1,""],[1,"form-col","bg-white","bg-opacity-50"],[4,"ngIf"],[1,"",3,"ngSubmit"],[1,"d-flex","justify-content-center","px-5","mx-2"],["src","hau.ico","alt","Holy Angel University Logo",1,"img-fluid",2,"width","35%"],[1,"text-center","my-auto"],[1,"text-dark"],["class","verification-message",3,"ngClass",4,"ngIf"],[1,"form-group"],["type","email","id","email","placeholder"," ","name","email","required","",3,"ngModelChange","ngModel"],["for","email"],[1,"form-group","password-group"],["id","password","placeholder"," ","name","password","required","",3,"ngModelChange","type","ngModel"],["for","password"],[1,"toggle-password","fas",3,"click","ngClass"],["class","text-center mb-2",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","login-btn","mb-3"],["href","#",3,"click"],[1,"verification-message",3,"ngClass"],[1,"text-center","mb-2"],["type","button",1,"btn-link",3,"click"]],template:function(i,o){i&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),C(4,fe,26,6,"div",4),r()()()()),i&2&&(c(4),m("ngIf",o.isLoginView))},dependencies:[F,j,H,B,W,D,G,q,X],styles:['.vh-100[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:space-between;background-repeat:no-repeat;background-size:cover;background-image:linear-gradient(#0006,#0006),url(/holy.jpg)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;align-items:center}.row[_ngcontent-%COMP%]{display:flex;max-width:2000px;width:200%}.image-col[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.image-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%}.form-col[_ngcontent-%COMP%]{white-space:nowrap;flex:1;padding:50px;border-radius:5%}.lead[_ngcontent-%COMP%]{font-size:1.25rem}.social-signin[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px 0}.divider[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px;font-weight:700;color:#666}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background-color:#eee}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:8px;border:1px solid #ccc;border-radius:4px;outline:none;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#000}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:12px;top:18px;font-size:.85rem;color:#000;pointer-events:none;transition:all .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:-8px;left:10px;font-size:.75rem;color:#000}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:15px 0}.forgot-password[_ngcontent-%COMP%]{color:#676767;text-decoration:none}.login-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:maroon;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.login-btn[_ngcontent-%COMP%]:hover{background-color:#b8860b}.register[_ngcontent-%COMP%]{margin-top:15px;text-align:center;display:flex;justify-content:center}.register-link[_ngcontent-%COMP%]{text-decoration:none;background:none;color:#000;cursor:pointer;transition:all .3s ease;font-weight:700}.password-group[_ngcontent-%COMP%]{position:relative}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;color:#000;font-size:1rem}.verification-message[_ngcontent-%COMP%]{padding:10px;margin:10px 0;text-align:center;border-radius:4px;font-size:.9rem}.verification-message.error[_ngcontent-%COMP%]{background-color:#8000201a;color:#800020;border:1px solid rgba(128,0,32,.2)}.verification-message.success[_ngcontent-%COMP%]{background-color:#cca43b1a;color:#cca43b;border:1px solid rgba(204,164,59,.2)}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#800020;text-decoration:underline;cursor:pointer;padding:0;font-size:.9rem}.btn-link[_ngcontent-%COMP%]:hover{color:#cca43b}']})}}return t})();var he=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",loadChildren:()=>import("./chunk-GXCLMMZO.js").then(t=>t.LayoutModule),canActivate:[T]},{path:"login",component:ae},{path:"employyes",component:ee},{path:"offboard",component:ie},{path:"home",component:oe,canActivate:[T]}],ce=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=b({type:t})}static{this.\u0275inj=_({imports:[f.forRoot(he),f]})}}return t})();var pe=(()=>{class t{constructor(){this.title="WebApplicationHR"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=x({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&d(0,"router-outlet")},dependencies:[Z]})}}return t})();var le={production:!1,firebase:{apiKey:"AIzaSyD5s2Rkq1NwkXrs-Xjk9AVxP94bcWO6fe8",authDomain:"signuploginapp-e51b2.firebaseapp.com",databaseURL:"https://signuploginapp-e51b2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"signuploginapp-e51b2",storageBucket:"signuploginapp-e51b2.firebasestorage.app",messagingSenderId:"578364808712",appId:"1:578364808712:web:45701c93a9302601c93bbd",measurementId:"G-ZXMYXSXB97"}};var me=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=b({type:t,bootstrap:[pe,Y]})}static{this.\u0275inj=_({providers:[$,te,ne],imports:[z,ce,U,K.initializeApp(le.firebase),J,Q,re,f]})}}return t})();N().bootstrapModule(me,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
