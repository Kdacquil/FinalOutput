import{a as N,b as A,c as he,d as ye,e as F,f as _e,g as J,h as Y,i as X,j as Ce,k as be,l as xe,m as ve,o as Oe,q as Se,r as $,s as Me}from"./chunk-YUMRVNJN.js";import"./chunk-VTRGSJ75.js";import"./chunk-XLANBBF2.js";import"./chunk-Y7FABB3Q.js";import{$ as pe,B as U,C as se,D as l,E as y,I as _,K as g,La as Ee,M as t,Ma as I,N as n,O as T,P as ce,Q as me,R as M,S as h,T as C,U as H,V as B,W as Q,X as oe,Y as i,Z as c,_ as P,aa as b,ba as x,ca as E,e as le,ea as ge,fa as z,ga as q,i as ie,ia as G,m as V,n as L,na as fe,oa as O,p as W,pa as w,q as v,qa as K,r as j,ra as ue,u as f,v as u,wa as Z,ya as R,z as de}from"./chunk-RUZQDE4M.js";import{a as S,b as k,d as ae}from"./chunk-U3NIYLHF.js";var Re=(a,p)=>({success:a,failed:p});function Ve(a,p){if(a&1&&(t(0,"tr")(1,"td"),i(2),z(3,"date"),n(),t(4,"td"),i(5),n(),t(6,"td"),i(7),n(),t(8,"td"),i(9),n(),t(10,"td",3),i(11),n()()),a&2){let e=p.$implicit;l(2),c(q(3,6,e.timestamp==null?null:e.timestamp.toDate(),"yyyy-MM-dd HH:mm:ss")),l(3),c(e.email),l(2),c(e.action),l(2),c(e.details),l(),g("ngClass",ge(9,Re,e.status==="Successful",e.status==="Failed")),l(),P(" ",e.status," ")}}var Pe=(()=>{class a{constructor(e){this.auditLogService=e,this.logs=[]}ngOnInit(){this.auditLogService.getAuditLogs().subscribe(e=>{this.logs=e})}static{this.\u0275fac=function(o){return new(o||a)(y(ve))}}static{this.\u0275cmp=v({type:a,selectors:[["app-audit-logs"]],decls:19,vars:1,consts:[[1,"content"],[1,"table-container"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"h1"),i(2,"Audit Logs Report"),n(),t(3,"div",1)(4,"table")(5,"thead")(6,"tr")(7,"th"),i(8,"Timestamp"),n(),t(9,"th"),i(10,"Email"),n(),t(11,"th"),i(12,"Action"),n(),t(13,"th"),i(14,"Details"),n(),t(15,"th"),i(16,"Status"),n()()(),t(17,"tbody"),_(18,Ve,12,12,"tr",2),n()()()()),o&2&&(l(18),g("ngForOf",r.logs))},dependencies:[fe,O,K],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f9f9f9}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:250px;background:linear-gradient(to bottom,#800020,#cca43b);color:#fff;padding:20px 10px;box-shadow:2px 0 6px #0003;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-bottom:20px;font-size:1.5em}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none;padding:10px;border-radius:4px;margin:5px 0;transition:background .3s,transform .3s}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#ffffff4d;transform:scale(1.05)}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\25bc";float:right;margin-right:10px}.dropdown-content[_ngcontent-%COMP%]{display:none;background-color:#fff3;margin-left:10px;padding-left:20px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;padding:5px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]{margin-left:260px;padding:20px;background-color:#fff;min-height:100vh}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2em}.table-container[_ngcontent-%COMP%]{overflow-x:auto;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#800020;color:#fff;font-size:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.hamburger[_ngcontent-%COMP%]{display:none;position:fixed;top:10px;left:10px;background-color:#ff5722;color:#fff;border:none;padding:10px;cursor:pointer;z-index:1000}.hamburger[_ngcontent-%COMP%]:focus{outline:none}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;border-radius:50%;box-shadow:0 4px 8px #0003}.none[_ngcontent-%COMP%]{cursor:none}.success[_ngcontent-%COMP%]{color:green;font-weight:700}.failed[_ngcontent-%COMP%]{color:red;font-weight:700}']})}}return a})();var te=(()=>{class a{constructor(e){this.firestore=e}getEmployees(){return this.firestore.collection("employees").valueChanges()}removeEmployee(e){return this.firestore.collection("employees").doc(e).delete()}static{this.\u0275fac=function(o){return new(o||a)(W(I))}}static{this.\u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Le(a,p){a&1&&(t(0,"div",7)(1,"div",8)(2,"span",9),i(3,"Loading..."),n()()())}function We(a,p){if(a&1){let e=M();t(0,"tr")(1,"td")(2,"strong"),i(3),n()(),t(4,"td")(5,"button",12),h("click",function(){let r=f(e).$implicit,d=C(2);return u(d.openModal(r))}),i(6,"Evaluate"),n()()()}if(a&2){let e=p.$implicit;l(3),c(e.name)}}function je(a,p){if(a&1&&(t(0,"table",10)(1,"thead")(2,"tr")(3,"th"),i(4,"Name"),n(),t(5,"th"),i(6,"Action"),n()()(),t(7,"tbody"),_(8,We,7,1,"tr",11),n()()),a&2){let e=C();l(8),g("ngForOf",e.filteredEmployees)}}function Ue(a,p){if(a&1&&(t(0,"tr")(1,"td"),i(2),z(3,"date"),n(),t(4,"td"),i(5),n()()),a&2){let e=p.$implicit;l(2),c(q(3,2,e.date,"medium")),l(3),c(e.totalPoints)}}function He(a,p){if(a&1&&(t(0,"div",27)(1,"h5"),i(2,"Previous Evaluations"),n(),t(3,"div",28)(4,"table",29)(5,"thead")(6,"tr")(7,"th"),i(8,"Date"),n(),t(9,"th"),i(10,"Total Points"),n()()(),t(11,"tbody"),_(12,Ue,6,5,"tr",11),n()()()()),a&2){let e=C(2);l(12),g("ngForOf",e.evaluationHistory)}}function Be(a,p){if(a&1&&(t(0,"tr")(1,"td",37)(2,"h6",38),i(3),n()()()),a&2){let e=C().$implicit;l(3),c(e.category)}}function Qe(a,p){if(a&1){let e=M();ce(0),_(1,Be,4,1,"tr",30),t(2,"tr")(3,"td"),i(4),n(),t(5,"td")(6,"select",31),h("change",function(r){let d=f(e).$implicit,m=C(2);return u(m.onRatingChange(d,r))}),E("ngModelChange",function(r){let d=f(e).$implicit;return x(d.rating,r)||(d.rating=r),u(r)}),t(7,"option",32),i(8,"0 - Not Applicable"),n(),t(9,"option",33),i(10,"4 - Very Satisfied"),n(),t(11,"option",34),i(12,"3 - Satisfied"),n(),t(13,"option",35),i(14,"2 - Dissatisfied"),n(),t(15,"option",36),i(16,"1 - Very Dissatisfied"),n()()(),t(17,"td"),i(18),n()(),me()}if(a&2){let e=p.$implicit,o=p.index,r=C(2);l(),g("ngIf",o===0||e.category!==r.evaluationCriteria[o-1].category),l(3),c(e.description),l(2),b("ngModel",e.rating),l(12),c(e.points)}}function ze(a,p){a&1&&T(0,"span",39)}function qe(a,p){if(a&1){let e=M();t(0,"div",13)(1,"div",14)(2,"div",15)(3,"h1",7),i(4,"Employee Performance Evaluation"),n(),t(5,"span",16),h("click",function(){f(e);let r=C();return u(r.closeModal())}),i(6,"\xD7"),n()(),t(7,"div",17)(8,"div",18)(9,"div",19)(10,"label"),i(11,"Name: "),t(12,"span"),i(13),n()()(),_(14,He,13,1,"div",20),t(15,"div",21)(16,"p",22),i(17,"Evaluation Rating"),n(),t(18,"table",10)(19,"thead")(20,"tr")(21,"th"),i(22,"Description"),n(),t(23,"th"),i(24,"Rating Type"),n(),t(25,"th"),i(26,"Points"),n()()(),t(27,"tbody"),_(28,Qe,19,4,"ng-container",11),t(29,"tr")(30,"td",23)(31,"strong"),i(32,"Total Points:"),n()(),t(33,"td")(34,"strong"),i(35),n()()()()()(),t(36,"div",24)(37,"button",25),h("click",function(){f(e);let r=C();return u(r.submitEvaluation())}),_(38,ze,1,0,"span",26),i(39),n()()()()()()}if(a&2){let e=C();l(13),c(e.selectedEmployee.name),l(),g("ngIf",e.evaluationHistory.length>0),l(14),g("ngForOf",e.evaluationCriteria),l(7),c(e.calculateTotalPoints()),l(2),g("disabled",e.loading),l(),g("ngIf",e.loading),l(),P(" ",e.loading?"Saving...":"Done"," ")}}var De=(()=>{class a{constructor(e,o){this.onboardingReportService=e,this.evaluationService=o,this.employees=[],this.filteredEmployees=[],this.selectedEmployee=null,this.evaluationData={},this.evaluationHistory=[],this.evaluationCriteria=[{description:"Possesses necessary credentials and certifications",category:"QUALIFICATIONS & COMPETENCE",rating:0,points:0},{description:"Demonstrates subject expertise",category:"QUALIFICATIONS & COMPETENCE",rating:0,points:0},{description:"Aligns lesson plans with the curriculum",category:"QUALIFICATIONS & COMPETENCE",rating:0,points:0},{description:"Integrates technology into teaching",category:"QUALIFICATIONS & COMPETENCE",rating:0,points:0},{description:"Participates in professional development",category:"QUALIFICATIONS & COMPETENCE",rating:0,points:0},{description:"Engages students effectively",category:"TEACHING EFFECTIVENESS",rating:0,points:0},{description:"Maintains structured classroom management",category:"TEACHING EFFECTIVENESS",rating:0,points:0},{description:"Adapts methods to diverse learning needs",category:"TEACHING EFFECTIVENESS",rating:0,points:0},{description:"Uses appropriate assessments and feedback",category:"TEACHING EFFECTIVENESS",rating:0,points:0},{description:"Handles discipline fairly and professionally",category:"TEACHING EFFECTIVENESS",rating:0,points:0},{description:"Communicates effectively with all stakeholders",category:"COMMUNICATION & COLLABORATION",rating:0,points:0},{description:"Builds strong interpersonal relationships",category:"COMMUNICATION & COLLABORATION",rating:0,points:0},{description:"Provides constructive feedback to students",category:"COMMUNICATION & COLLABORATION",rating:0,points:0},{description:"Participates actively in school activities",category:"COMMUNICATION & COLLABORATION",rating:0,points:0},{description:"Resolves conflicts professionally",category:"COMMUNICATION & COLLABORATION",rating:0,points:0},{description:"Meets deadlines and responsibilities",category:"WORK ETHICS & PROFESSIONALISM",rating:0,points:0},{description:"Maintains reliability and punctuality",category:"WORK ETHICS & PROFESSIONALISM",rating:0,points:0},{description:"Follows ethical practices and policies",category:"WORK ETHICS & PROFESSIONALISM",rating:0,points:0},{description:"Responds well to constructive criticism",category:"WORK ETHICS & PROFESSIONALISM",rating:0,points:0},{description:"Recommended for continued employment or promotion",category:"WORK ETHICS & PROFESSIONALISM",rating:0,points:0}],this.loading=!1,this.searchQuery=""}ngOnInit(){this.onboardingReportService.getEmployees().subscribe(e=>{this.employees=e,this.filteredEmployees=[...this.employees]})}filterEmployees(){let e=this.searchQuery?.toLowerCase()||"";this.filteredEmployees=this.employees.filter(o=>o.name?.toLowerCase().includes(e))}openModal(e){if(!e?.id){console.error("Employee ID is undefined"),alert("Employee ID is missing. Please try again.");return}this.selectedEmployee=S({},e),this.loadEvaluationHistory(e.id),this.evaluationData={employeeId:e.id,employeeName:e.name,criteria:this.evaluationCriteria.map(o=>k(S({},o),{rating:0,points:0}))}}closeModal(){this.selectedEmployee=null}loadEvaluationHistory(e){if(!e){console.error("Employee ID is undefined"),alert("Employee ID is missing. Please try again.");return}this.loading=!0,this.evaluationService.getEvaluations(e).subscribe(o=>{console.log("Received history from Firestore:",o),this.evaluationHistory=o.map(r=>{let d;return r.date instanceof Ee?d=r.date.toDate():r.date instanceof Date?d=r.date:typeof r.date=="string"?d=new Date(r.date):(console.warn("Invalid date detected:",r.date),d=new Date(0)),k(S({},r),{date:d})}),this.loading=!1},o=>{console.error("Error fetching evaluation history:",o),this.loading=!1})}onRatingChange(e,o){let r=+o.target.value;e.rating=r,e.points=r}calculateTotalPoints(){return this.evaluationCriteria.reduce((e,o)=>e+o.points,0)}submitEvaluation(){if(!this.selectedEmployee?.id){console.error("Selected employee ID is undefined"),alert("Cannot submit evaluation without a valid employee ID.");return}this.loading=!0;let e={employeeId:this.selectedEmployee.id,employeeName:this.selectedEmployee.name,criteria:this.evaluationCriteria.map(o=>({description:o.description,rating:o.rating,points:o.points,category:o.category})),totalPoints:this.calculateTotalPoints(),date:new Date};this.evaluationService.saveEvaluation(e).then(()=>{alert("Evaluation saved successfully!"),this.closeModal()}).catch(o=>{console.error("Error saving evaluation:",o),alert("Failed to save evaluation. Please try again later.")}).finally(()=>{this.loading=!1})}static{this.\u0275fac=function(o){return new(o||a)(y(te),y($))}}static{this.\u0275cmp=v({type:a,selectors:[["app-evaluation"]],decls:8,vars:4,consts:[[1,"content"],[1,"m-3"],[1,"search-container","mb-3"],["type","text","placeholder","Search employees...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","text-center",4,"ngIf"],["class","table-container",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-dark",3,"click"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-details"],[1,"info-group"],["class","mb-4",4,"ngIf"],[1,""],[1,"text-danger"],["colspan","2",1,"text-end"],[1,"modal-footer"],[1,"button",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mb-4"],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngIf"],[1,"form-select",3,"change","ngModelChange","ngModel"],["value","0"],["value","4"],["value","3"],["value","2"],["value","1"],["colspan","3"],[1,"ms-3","my-1"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"h1",1),i(2,"Evaluation"),n(),t(3,"div",2)(4,"input",3),E("ngModelChange",function(m){return x(r.searchQuery,m)||(r.searchQuery=m),m}),h("input",function(){return r.filterEmployees()}),n()(),_(5,Le,4,0,"div",4)(6,je,9,1,"table",5)(7,qe,40,7,"div",6),n()),o&2&&(l(4),b("ngModel",r.searchQuery),l(),g("ngIf",r.loading),l(),g("ngIf",!r.loading),l(),g("ngIf",r.selectedEmployee))},dependencies:[O,w,Y,X,N,J,A,F,K],styles:[".content[_ngcontent-%COMP%]{margin-left:260px;padding:20px}.search-container[_ngcontent-%COMP%]{max-width:300px;margin:0 auto 20px}.table-container[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px;background-color:#fff;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:maroon;color:#fff;font-weight:700}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:90%;max-width:800px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.close-btn[_ngcontent-%COMP%]{font-size:24px;color:#dc3545;cursor:pointer;padding:5px}.modal-body[_ngcontent-%COMP%]{margin-bottom:20px}.info-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.button[_ngcontent-%COMP%]{background-color:maroon;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.button[_ngcontent-%COMP%]:hover{background-color:#4d0000}.button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}"]})}}return a})();var Te=(()=>{class a{constructor(e){this.firestore=e}getEmployees(){return this.firestore.collection("offboarding").snapshotChanges().pipe(le(e=>e.map(o=>{let r=o.payload.doc.data(),d=o.payload.doc.id;return S({id:d},r)})))}static{this.\u0275fac=function(o){return new(o||a)(W(I))}}static{this.\u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Je(a,p){if(a&1&&(t(0,"tr")(1,"td")(2,"strong"),i(3),n()(),t(4,"td")(5,"strong"),i(6),n()(),t(7,"td")(8,"strong"),i(9),n()(),t(10,"td")(11,"strong"),i(12),n()(),t(13,"td")(14,"strong"),i(15),n()(),t(16,"td")(17,"strong"),i(18),n()(),t(19,"td")(20,"strong"),i(21),n()(),t(22,"td")(23,"strong"),i(24),n()()()),a&2){let e=p.$implicit;l(3),c(e.employeeName||"Unknown"),l(3),c(e.employeeId||"N/A"),l(3),c(e.effectiveDate||"N/A"),l(3),c(e.exitInterview||"N/A"),l(3),c(e.clearanceStatus||"N/A"),l(3),c(e.certificationStatus||"N/A"),l(3),c(e.recommendation||"N/A"),l(3),c(e.recommendationComment||"N/A")}}function Ye(a,p){a&1&&(t(0,"tr")(1,"td",6),i(2,"No employees found."),n()())}var Ne=(()=>{class a{constructor(e,o,r){this.router=e,this.offboardingReportService=o,this.cdr=r,this.searchQuery="",this.employees=[],this.filteredEmployees=[],this.selectedEmployee=null}ngOnInit(){this.fetchOffboardingEmployees()}fetchOffboardingEmployees(){this.offboardingReportService.getEmployees().subscribe(e=>{console.log("\u2705 Fetched Offboarding Records:",e),this.employees=e.map(o=>k(S({},o),{employeeName:o.employeeName||"Unknown"})),this.filteredEmployees=[...this.employees]},e=>{console.error("\u274C Error fetching offboarding records:",e)})}searchEmployee(e){this.filteredEmployees=this.employees.filter(o=>o.employeeName.toLowerCase().includes(e.toLowerCase())),this.cdr.detectChanges()}openModal(e){console.log("Opening modal for:",e),this.selectedEmployee=e}closeModal(){this.selectedEmployee=null}static{this.\u0275fac=function(o){return new(o||a)(y(Z),y(Te),y(G))}}static{this.\u0275cmp=v({type:a,selectors:[["app-offboarding-report"]],decls:27,vars:3,consts:[[1,"content"],[1,"search-container"],["type","text","placeholder","Search by Name or Employee ID...",3,"ngModelChange","input","ngModel"],[1,"table-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","8",1,"no-data"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"h1"),i(2,"Offboarding Report"),n(),t(3,"div",1)(4,"input",2),E("ngModelChange",function(m){return x(r.searchQuery,m)||(r.searchQuery=m),m}),h("input",function(){return r.searchEmployee(r.searchQuery)}),n()(),t(5,"table",3)(6,"thead")(7,"tr")(8,"th"),i(9,"Name"),n(),t(10,"th"),i(11,"Employee ID"),n(),t(12,"th"),i(13,"Effective Offboarding Date"),n(),t(14,"th"),i(15,"Exit Interview Status"),n(),t(16,"th"),i(17,"Clearance Status"),n(),t(18,"th"),i(19,"Certification"),n(),t(20,"th"),i(21,"Recommendation"),n(),t(22,"th"),i(23,"Comments"),n()()(),t(24,"tbody"),_(25,Je,25,8,"tr",4)(26,Ye,3,0,"tr",5),n()()()),o&2&&(l(4),b("ngModel",r.searchQuery),l(21),g("ngForOf",r.filteredEmployees),l(),g("ngIf",r.filteredEmployees.length===0))},dependencies:[O,w,N,A,F],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f9f9f9}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:250px;background:linear-gradient(to bottom,#800020,#cca43b);color:#fff;padding:20px 10px;box-shadow:2px 0 6px #0003;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-bottom:20px;font-size:1.5em}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none;padding:10px;border-radius:4px;margin:5px 0;transition:background .3s,transform .3s}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#ffffff4d;transform:scale(1.05)}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\25bc";float:right;margin-right:10px}.dropdown-content[_ngcontent-%COMP%]{display:none;background-color:#fff3;margin-left:10px;padding-left:20px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;padding:5px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]{margin-left:260px;padding:20px;background-color:#fff;min-height:100vh}.none[_ngcontent-%COMP%]{cursor:none}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2em}.table-container[_ngcontent-%COMP%]{overflow-x:auto;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:maroon;color:#fff;font-size:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.hamburger[_ngcontent-%COMP%]{display:none;position:fixed;top:10px;left:10px;background-color:#ff5722;color:#fff;border:none;padding:10px;cursor:pointer;z-index:1000}.hamburger[_ngcontent-%COMP%]:focus{outline:none}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:200px;transform:translate(-100%);transition:transform .3s ease}.sidebar.show[_ngcontent-%COMP%]{transform:translate(0)}.content[_ngcontent-%COMP%]{margin-left:0}.hamburger[_ngcontent-%COMP%]{display:block}}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;border-radius:50%;box-shadow:0 4px 8px #0003}']})}}return a})();var Xe=["fileInput"];function Ze(a,p){if(a&1&&(t(0,"li"),i(1),n()),a&2){let e=p.$implicit;l(),pe(" ",e.name," (",e.type,") ")}}function $e(a,p){if(a&1&&(t(0,"ul"),_(1,Ze,2,2,"li",35),n()),a&2){let e=C();l(),g("ngForOf",e.uploadedFiles)}}var Ae=(()=>{class a{constructor(e,o){this.firestore=e,this.storage=o,this.profileImage="picpro.jpg",this.uploadedFiles=[],this.formData={id:"",name:"",email:"",employmentDate:"",employmentType:"",department:"",notification:"",profileImageUrl:"",documents:[]}}uploadImage(e){let o=e.target.files[0];if(o){let r=`profile-images/${new Date().getTime()}_${o.name}`,d=this.storage.ref(r),m=this.storage.upload(r,o);m.percentageChanges().subscribe(s=>{console.log(`Upload is ${s}% done`)}),m.snapshotChanges().pipe(ie(()=>{d.getDownloadURL().subscribe(s=>{this.profileImage=s,this.formData.profileImageUrl=s})})).subscribe()}}uploadFiles(e){let o=e.target.files;!o||o.length===0||Array.from(o).forEach(r=>{let d=`employee_documents/${new Date().getTime()}_${r.name}`,m=this.storage.ref(d),s=this.storage.upload(d,r);s.percentageChanges().subscribe(ne=>{console.log(`Upload is ${ne}% done`)}),s.snapshotChanges().pipe(ie(()=>{m.getDownloadURL().subscribe(ne=>{this.uploadedFiles.push({name:r.name,type:r.type,url:ne})})})).subscribe()})}onSubmit(e){return ae(this,null,function*(){if(e.valid)try{if(!this.formData.id){alert("Employee ID is required.");return}let o=yield this.firestore.collection("employees",r=>r.where("id","==",this.formData.id)).get().toPromise();if(o&&!o.empty){alert("Employee ID already exists! Please enter a unique ID.");return}this.formData.documents=this.uploadedFiles,yield this.firestore.collection("employees").doc(this.formData.id).set(this.formData),console.log("Employee added with ID:",this.formData.id),e.resetForm(),this.uploadedFiles=[],this.profileImage="picpro.jpg",alert(`Employee onboarded successfully! Assigned ID: ${this.formData.id}`)}catch(o){console.error("Error in form submission:",o),alert("Error saving employee data. Please try again.")}else console.log("Form is invalid",e.errors)})}static{this.\u0275fac=function(o){return new(o||a)(y(I),y(Me))}}static{this.\u0275cmp=v({type:a,selectors:[["app-onboard"]],viewQuery:function(o,r){if(o&1&&H(Xe,5),o&2){let d;B(d=Q())&&(r.fileInput=d.first)}},decls:81,vars:9,consts:[["onboardingForm","ngForm"],["fileInput",""],[1,"onboarding-container"],[1,"onboard-container",3,"ngSubmit"],[1,"onboarding-form","w-100"],[1,"profile-container","mx-auto",3,"click"],["alt","Profile Picture",1,"w-25",3,"src"],[1,"upload-text"],["type","file","accept","image/*","hidden","",3,"change"],[1,"form-group"],["type","text","name","employeeId","placeholder","Enter Employee ID","required","",3,"ngModelChange","ngModel"],["type","text","name","name","placeholder","Enter Full Name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Enter Email","required","",3,"ngModelChange","ngModel"],["type","date","name","employmentDate","required","",3,"ngModelChange","ngModel"],["name","employmentType","required","",3,"ngModelChange","ngModel"],["value",""],["value","Full-time"],["value","Part-time"],["value","Probation"],["name","department","required","",3,"ngModelChange","ngModel"],["value","School Of Business and Accountancy (SBA)"],["value","School Of Engineering and Architecture (SEA)"],["value","School Of Arts and Sciences (SAS)"],["value","School Of Computing (SOC)"],["value","School Of Hospitality and Tourism Management (SHTM)"],["value","School Of Education (SED)"],["value","School Of Nursing and Allied Medical Sciences (SNAMS)"],["value","College of Criminal Justice Education and Forensics (CCJEF)"],[1,"file-upload-container"],["type","file","multiple","","accept",".pdf,.doc,.docx",3,"change"],[4,"ngIf"],["name","notification","required","",3,"ngModelChange","ngModel"],["value","Yes"],["value","No"],["type","submit",1,"add-new-employee"],[4,"ngFor","ngForOf"]],template:function(o,r){if(o&1){let d=M();t(0,"div",2)(1,"header")(2,"h4"),i(3,"Onboarding"),n()(),t(4,"form",3,0),h("ngSubmit",function(){f(d);let s=oe(5);return u(r.onSubmit(s))}),t(6,"div",4)(7,"div",5),h("click",function(){f(d);let s=oe(12);return u(s.click())}),T(8,"img",6),t(9,"span",7),i(10,"Upload Image"),n(),t(11,"input",8,1),h("change",function(s){return f(d),u(r.uploadImage(s))}),n()()(),t(13,"div",9)(14,"label"),i(15,"Employee ID"),n(),t(16,"input",10),E("ngModelChange",function(s){return f(d),x(r.formData.id,s)||(r.formData.id=s),u(s)}),n()(),t(17,"div",9)(18,"label"),i(19,"Name"),n(),t(20,"input",11),E("ngModelChange",function(s){return f(d),x(r.formData.name,s)||(r.formData.name=s),u(s)}),n()(),t(21,"div",9)(22,"label"),i(23,"Employee Email"),n(),t(24,"input",12),E("ngModelChange",function(s){return f(d),x(r.formData.email,s)||(r.formData.email=s),u(s)}),n()(),t(25,"div",9)(26,"label"),i(27,"Employment Date"),n(),t(28,"input",13),E("ngModelChange",function(s){return f(d),x(r.formData.employmentDate,s)||(r.formData.employmentDate=s),u(s)}),n()(),t(29,"div",9)(30,"label"),i(31,"Employment Type"),n(),t(32,"select",14),E("ngModelChange",function(s){return f(d),x(r.formData.employmentType,s)||(r.formData.employmentType=s),u(s)}),t(33,"option",15),i(34,"Select"),n(),t(35,"option",16),i(36,"Full-time"),n(),t(37,"option",17),i(38,"Part-time"),n(),t(39,"option",18),i(40,"Probation"),n()()(),t(41,"div",9)(42,"label"),i(43,"Department"),n(),t(44,"select",19),E("ngModelChange",function(s){return f(d),x(r.formData.department,s)||(r.formData.department=s),u(s)}),t(45,"option",15),i(46,"Select"),n(),t(47,"option",20),i(48,"School Of Business and Accountancy (SBA)"),n(),t(49,"option",21),i(50,"School Of Engineering and Architecture (SEA)"),n(),t(51,"option",22),i(52,"School Of Arts and Sciences (SAS)"),n(),t(53,"option",23),i(54,"School Of Computing (SOC)"),n(),t(55,"option",24),i(56,"School Of Hospitality and Tourism Management (SHTM)"),n(),t(57,"option",25),i(58,"School Of Education (SED)"),n(),t(59,"option",26),i(60,"School Of Nursing and Allied Medical Sciences (SNAMS)"),n(),t(61,"option",27),i(62,"College of Criminal Justice Education and Forensics (CCJEF)"),n()()(),t(63,"div",9)(64,"label"),i(65,"Upload Documents (PDF, DOCX)"),n(),t(66,"div",28)(67,"input",29),h("change",function(s){return f(d),u(r.uploadFiles(s))}),n()(),_(68,$e,2,1,"ul",30),n(),t(69,"div",9)(70,"label"),i(71,"Automated Notification"),n(),t(72,"select",31),E("ngModelChange",function(s){return f(d),x(r.formData.notification,s)||(r.formData.notification=s),u(s)}),t(73,"option",15),i(74,"Select"),n(),t(75,"option",32),i(76,"Yes"),n(),t(77,"option",33),i(78,"No"),n()()(),t(79,"button",34),i(80,"Add This Employee"),n()()()}o&2&&(l(8),g("src",r.profileImage,U),l(8),b("ngModel",r.formData.id),l(4),b("ngModel",r.formData.name),l(4),b("ngModel",r.formData.email),l(4),b("ngModel",r.formData.employmentDate),l(4),b("ngModel",r.formData.employmentType),l(12),b("ngModel",r.formData.department),l(24),g("ngIf",r.uploadedFiles.length>0),l(4),b("ngModel",r.formData.notification))},dependencies:[O,w,_e,Y,X,N,J,A,he,Ce,F,ye],styles:["h1[_ngcontent-%COMP%]{margin:50px;font-weight:700}.none[_ngcontent-%COMP%]{cursor:none}.onboard-container[_ngcontent-%COMP%]{box-shadow:0 4px 10px #0000001a;padding:10px 30px}.onboarding-form[_ngcontent-%COMP%]{display:inline-flex;margin-top:1rem}.onboarding-container[_ngcontent-%COMP%]{margin-left:250px;padding:40px 20px 20px;box-sizing:border-box;overflow-y:auto}.add-new-employee[_ngcontent-%COMP%]{background:#ff5722;color:#fff;border:none;padding:10px 15px;font-size:16px;cursor:pointer;border-radius:5px;display:block;margin:0 auto 20px}.profile-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;cursor:pointer;margin-bottom:15px}.profile-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10rem}.upload-text[_ngcontent-%COMP%]{background:#444;color:#fff;padding:5px 10px;font-size:12px;border-radius:5px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:5px;width:100%}.add-new-employee[_ngcontent-%COMP%]{background-color:#800020}h4[_ngcontent-%COMP%]{border-bottom:2px solid #ddd;padding-bottom:35px;font-size:45px;font-weight:700}"]})}}return a})();var et=["accountContainer"];function tt(a,p){if(a&1&&(t(0,"tr")(1,"td")(2,"strong"),i(3),n()(),t(4,"td")(5,"strong"),i(6),n()(),t(7,"td")(8,"strong"),i(9),n()(),t(10,"td")(11,"strong"),i(12),n()(),t(13,"td")(14,"strong"),i(15),n()()()),a&2){let e=p.$implicit;l(3),c(e.name),l(3),c(e.id),l(3),c(e.department),l(3),c(e.employmentType),l(3),c(e.employmentDate)}}function nt(a,p){a&1&&(t(0,"tr")(1,"td",5),i(2,"No employees found."),n()())}function it(a,p){if(a&1){let e=M();t(0,"div",6)(1,"div",7)(2,"span",8),h("click",function(){f(e);let r=C();return u(r.closeModal())}),i(3,"\xD7"),n(),t(4,"h2"),i(5),n(),t(6,"div",9)(7,"div",10)(8,"p")(9,"strong"),i(10,"Email:"),n(),i(11),n(),t(12,"p")(13,"strong"),i(14,"Employment Date:"),n(),i(15),n(),t(16,"p")(17,"strong"),i(18,"Automated Notification:"),n(),i(19),n()(),t(20,"div",11),T(21,"img",12),n()(),t(22,"div",13)(23,"button",14),h("click",function(){f(e);let r=C();return u(r.updateEmployee())}),i(24,"Update"),n(),t(25,"button",15),h("click",function(){f(e);let r=C();return u(r.deleteEmployee())}),i(26,"Delete"),n(),t(27,"button",14),h("click",function(){f(e);let r=C();return u(r.moveToOffboarding())}),i(28,"Move to Offboarding"),n()()()()}if(a&2){let e=C();l(5),c(e.selectedEmployee.name),l(6),P(" ",e.selectedEmployee==null?null:e.selectedEmployee.email,""),l(4),P(" ",e.selectedEmployee==null?null:e.selectedEmployee.employmentDate,""),l(4),P(" ",e.selectedEmployee==null?null:e.selectedEmployee.notification,""),l(2),g("src",e.selectedEmployee==null?null:e.selectedEmployee.profileImageUrl,U)}}var Fe=(()=>{class a{constructor(e,o,r,d,m){this.router=e,this.elementRef=o,this.OnboardingReportService=r,this.firestore=d,this.cdr=m,this.searchQuery="",this.employees=[],this.filteredEmployees=[],this.selectedEmployee=null,this.collapsed=!1,this.screenWidth=0,this.showAccount=!1}ngOnInit(){this.fetchEmployees()}ngAfterViewInit(){this.accountContainer||console.error("accountContainer is not initialized")}fetchEmployees(){this.OnboardingReportService.getEmployees().subscribe(e=>{this.employees=e,this.filteredEmployees=[...this.employees],this.cdr.detectChanges()})}searchEmployee(e){this.filteredEmployees=this.employees.filter(o=>o.name.toLowerCase().includes(e.toLowerCase())),this.cdr.detectChanges()}updateEmployee(){console.log("Updating employee:")}deleteEmployee(){console.log("Deleting employee:")}moveToOffboarding(){if(!this.selectedEmployee){alert("Please select an employee to move to offboarding.");return}let e={employeeId:this.selectedEmployee.id,employeeName:this.selectedEmployee.name,department:this.selectedEmployee.department,employmentType:this.selectedEmployee.employmentType,employmentDate:this.selectedEmployee.employmentDate,profileImageUrl:this.selectedEmployee.profileImageUrl};this.firestore.collection("offboarding").doc(this.selectedEmployee.id).set(e).then(()=>{this.firestore.collection("onboarding").doc(this.selectedEmployee.id).delete().then(()=>{alert("Employee moved to offboarding and removed from onboarding report."),this.fetchEmployees()}).catch(o=>alert("Failed to remove from onboarding: "+o.message))}).catch(o=>alert("Failed to move employee to offboarding: "+o.message))}openModal(e){this.selectedEmployee=e}closeModal(){this.selectedEmployee=null}toggleAccount(e){e.stopPropagation(),this.showAccount=!this.showAccount}openAccountSettings(){console.log("Open Account Settings")}logout(){console.log("Logout"),this.router.navigate(["/loginandsignup"])}closePopups(e){this.accountContainer?.nativeElement&&(this.accountContainer.nativeElement.contains(e.target)||(this.showAccount=!1))}static{this.\u0275fac=function(o){return new(o||a)(y(Z),y(de),y(te),y(I),y(G))}}static{this.\u0275cmp=v({type:a,selectors:[["app-employee-info"]],viewQuery:function(o,r){if(o&1&&H(et,5),o&2){let d;B(d=Q())&&(r.accountContainer=d.first)}},hostBindings:function(o,r){o&1&&h("click",function(m){return r.closePopups(m)},!1,se)},inputs:{collapsed:"collapsed",screenWidth:"screenWidth"},decls:20,vars:3,consts:[[1,"content"],[1,"table-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],["colspan","2",1,"no-data"],[1,"modal-overlay"],[1,"modal-content","pb-5"],[1,"close-btn",3,"click"],[1,"d-flex","flex-row",2,"max-width","100%"],[2,"width","50%"],[2,"width","50%","display","flex","justify-content","center"],["alt","No Image",2,"width","180px","height","180px","border-radius","50%","object-fit","cover","border","3px solid #ccc",3,"src"],[1,"pt-3"],[1,"button",3,"click"],[1,"button","mx-3",3,"click"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"h1"),i(2,"Onboarding Report"),n(),t(3,"table",1)(4,"thead")(5,"tr")(6,"th"),i(7,"Name"),n(),t(8,"th"),i(9,"Employee ID"),n(),t(10,"th"),i(11,"Department"),n(),t(12,"th"),i(13,"Employment Type"),n(),t(14,"th"),i(15,"Employment Date"),n()()(),t(16,"tbody"),_(17,tt,16,5,"tr",2)(18,nt,3,0,"tr",3),n()(),_(19,it,29,5,"div",4),n()),o&2&&(l(17),g("ngForOf",r.filteredEmployees),l(),g("ngIf",(r.filteredEmployees==null?null:r.filteredEmployees.length)===0),l(),g("ngIf",r.selectedEmployee))},dependencies:[O,w],styles:[".content[_ngcontent-%COMP%]{margin-left:260px}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2em}.table-container[_ngcontent-%COMP%]{overflow-x:auto;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:maroon;color:#fff;font-size:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]})}}return a})();var ot=[{path:"",redirectTo:"employee-info",pathMatch:"full"},{path:"onboard",component:Ae},{path:"offboard",component:Se},{path:"employee-info",component:Oe},{path:"onboarding-report",component:Fe},{path:"offboarding-report",component:Ne},{path:"audit-logs",component:Pe},{path:"evaluation",component:De},{path:"distribution",loadChildren:()=>import("./chunk-VW75O5JA.js").then(a=>a.DistributionModule)}],ke=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=j({type:a})}static{this.\u0275inj=L({imports:[R.forChild(ot),R]})}}return a})();var en=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=j({type:a})}static{this.\u0275inj=L({providers:[$],imports:[ue,ke,be,xe,R]})}}return a})();export{en as DashboardModule};
