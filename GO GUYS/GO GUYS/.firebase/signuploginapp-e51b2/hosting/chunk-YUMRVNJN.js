import{a as Wn}from"./chunk-Y7FABB3Q.js";import{$ as Tn,A as Vn,Aa as Ln,B as Ge,Ba as Bn,Ca as $t,D as p,Da as zt,E as f,Ea as jn,F as He,Fa as Gn,G as Ee,Ga as Hn,H as q,I as U,Ia as qn,J as In,K as _,L as jt,M as l,Ma as K,N as a,O as ne,R as L,S as I,T as g,Y as d,Z as ae,_ as On,a as xn,aa as z,b as Dn,ba as X,c as de,ca as Y,d as Lt,da as ie,e as be,f as Mn,g as An,ha as Rn,ia as Gt,j as Bt,ja as Ht,k as ot,ka as we,l as te,la as re,m as G,ma as qt,n as he,o as H,oa as at,p as D,pa as lt,q as st,r as fe,s as V,t as Le,u as N,v as k,w as Be,x as pe,y as Sn,z as je,za as Un}from"./chunk-RUZQDE4M.js";import{a as y,b as S,d as R,k as Fn,o as Pn,r as oe,s as ct,v as Nn,w as kn,y as Wt,z as ut}from"./chunk-U3NIYLHF.js";var ti=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(f(He),f(je))}}static{this.\u0275dir=V({type:n})}}return n})(),Jt=(()=>{class n extends ti{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Be(n)))(r||n)}})()}static{this.\u0275dir=V({type:n,features:[q]})}}return n})(),Ke=new H("");var gr={provide:Ke,useExisting:te(()=>Se),multi:!0};function _r(){let n=qt()?qt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var yr=new H(""),Se=(()=>{class n extends ti{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_r())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(f(He),f(je),f(yr,8))}}static{this.\u0275dir=V({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&I("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ie([gr]),q]})}}return n})();function le(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ni(n){return n!=null&&typeof n.length=="number"}var Ze=new H(""),Ct=new H(""),vr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,W=class{static min(e){return Cr(e)}static max(e){return br(e)}static required(e){return ii(e)}static requiredTrue(e){return Er(e)}static email(e){return wr(e)}static minLength(e){return xr(e)}static maxLength(e){return Dr(e)}static pattern(e){return Mr(e)}static nullValidator(e){return ht(e)}static compose(e){return ci(e)}static composeAsync(e){return ui(e)}};function Cr(n){return e=>{if(le(e.value)||le(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function br(n){return e=>{if(le(e.value)||le(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function ii(n){return le(n.value)?{required:!0}:null}function Er(n){return n.value===!0?null:{required:!0}}function wr(n){return le(n.value)||vr.test(n.value)?null:{email:!0}}function xr(n){return e=>le(e.value)||!ni(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Dr(n){return e=>ni(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Mr(n){if(!n)return ht;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(le(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function ht(n){return null}function ri(n){return n!=null}function oi(n){return Rn(n)?de(n):n}function si(n){let e={};return n.forEach(t=>{e=t!=null?y(y({},e),t):e}),Object.keys(e).length===0?null:e}function ai(n,e){return e.map(t=>t(n))}function Ar(n){return!n.validate}function li(n){return n.map(e=>Ar(e)?e:t=>e.validate(t))}function ci(n){if(!n)return null;let e=n.filter(ri);return e.length==0?null:function(t){return si(ai(t,e))}}function en(n){return n!=null?ci(li(n)):null}function ui(n){if(!n)return null;let e=n.filter(ri);return e.length==0?null:function(t){let i=ai(t,e).map(oi);return Mn(i).pipe(be(si))}}function tn(n){return n!=null?ui(li(n)):null}function $n(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function di(n){return n._rawValidators}function hi(n){return n._rawAsyncValidators}function Xt(n){return n?Array.isArray(n)?n:[n]:[]}function ft(n,e){return Array.isArray(n)?n.includes(e):n===e}function zn(n,e){let t=Xt(e);return Xt(n).forEach(r=>{ft(t,r)||t.push(r)}),t}function Xn(n,e){return Xt(e).filter(t=>!ft(n,t))}var pt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=en(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},se=class extends pt{get formDirective(){return null}get path(){return null}},me=class extends pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},mt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sr={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},la=S(y({},Sr),{"[class.ng-submitted]":"isSubmitted"}),bt=(()=>{class n extends mt{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(f(me,2))}}static{this.\u0275dir=V({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&jt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[q]})}}return n})(),fi=(()=>{class n extends mt{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(f(se,10))}}static{this.\u0275dir=V({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&jt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[q]})}}return n})();var qe="VALID",dt="INVALID",xe="PENDING",We="DISABLED",ce=class{},gt=class extends ce{constructor(e,t){super(),this.value=e,this.source=t}},ze=class extends ce{constructor(e,t){super(),this.pristine=e,this.source=t}},Xe=class extends ce{constructor(e,t){super(),this.touched=e,this.source=t}},De=class extends ce{constructor(e,t){super(),this.status=e,this.source=t}},Yt=class extends ce{constructor(e){super(),this.source=e}},Kt=class extends ce{constructor(e){super(),this.source=e}};function nn(n){return(Et(n)?n.validators:n)||null}function Vr(n){return Array.isArray(n)?en(n):n||null}function rn(n,e){return(Et(e)?e.asyncValidators:n)||null}function Ir(n){return Array.isArray(n)?tn(n):n||null}function Et(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function pi(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ot(1e3,"");if(!i[t])throw new ot(1001,"")}function mi(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ot(1002,"")})}var Me=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=we(()=>this.statusReactive()),this.statusReactive=Ee(void 0),this._pristine=we(()=>this.pristineReactive()),this.pristineReactive=Ee(!0),this._touched=we(()=>this.touchedReactive()),this.touchedReactive=Ee(!1),this._events=new Dn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return re(this.statusReactive)}set status(e){re(()=>this.statusReactive.set(e))}get valid(){return this.status===qe}get invalid(){return this.status===dt}get pending(){return this.status==xe}get disabled(){return this.status===We}get enabled(){return this.status!==We}get pristine(){return re(this.pristineReactive)}set pristine(e){re(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return re(this.touchedReactive)}set touched(e){re(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xn(e,this._rawAsyncValidators))}hasValidator(e){return ft(this._rawValidators,e)}hasAsyncValidator(e){return ft(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(S(y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Xe(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Xe(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(S(y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ze(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ze(!0,i))}markAsPending(e={}){this.status=xe;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new De(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(S(y({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=We,this.errors=null,this._forEachChild(r=>{r.disable(S(y({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gt(this.value,i)),this._events.next(new De(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(S(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qe,this._forEachChild(i=>{i.enable(S(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(S(y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qe||this.status===xe)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gt(this.value,t)),this._events.next(new De(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(S(y({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=xe,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=oi(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new De(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xe)?xe:this._anyControlsHaveStatus(dt)?dt:qe}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ze(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xe(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Et(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Vr(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}},Ae=class extends Me{constructor(e,t,i){super(nn(t),rn(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mi(this,!0,e),Object.keys(e).forEach(i=>{pi(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Zt=class extends Ae{};var Qe=new H("CallSetDisabledState",{providedIn:"root",factory:()=>wt}),wt="always";function gi(n,e){return[...e.path,n]}function _t(n,e,t=wt){on(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Tr(n,e),Fr(n,e),Rr(n,e),Or(n,e)}function Yn(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),vt(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yt(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Or(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function on(n,e){let t=di(n);e.validator!==null?n.setValidators($n(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=hi(n);e.asyncValidator!==null?n.setAsyncValidators($n(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();yt(e._rawValidators,r),yt(e._rawAsyncValidators,r)}function vt(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=di(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=hi(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return yt(e._rawValidators,i),yt(e._rawAsyncValidators,i),t}function Tr(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&_i(n,e)})}function Rr(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&_i(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function _i(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fr(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function yi(n,e){n==null,on(n,e)}function Pr(n,e){return vt(n,e)}function vi(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Nr(n){return Object.getPrototypeOf(n.constructor)===Jt}function Ci(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bi(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Se?t=o:Nr(o)?i=o:r=o}),r||i||t||null}function kr(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Ur={provide:se,useExisting:te(()=>Lr)},$e=Promise.resolve(),Lr=(()=>{class n extends se{get submitted(){return re(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=we(()=>this.submittedReactive()),this.submittedReactive=Ee(!1),this._directives=new Set,this.ngSubmit=new pe,this.form=new Ae({},en(t),tn(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$e.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),_t(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$e.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$e.then(()=>{let i=this._findContainer(t.path),r=new Ae({});yi(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$e.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){$e.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Ci(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(f(Ze,10),f(Ct,10),f(Qe,8))}}static{this.\u0275dir=V({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ie([Ur]),q]})}}return n})();function Kn(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Zn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ye=class extends Me{constructor(e=null,t,i){super(nn(t),rn(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Et(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Zn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Zn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Br=n=>n instanceof Ye;var jr={provide:me,useExisting:te(()=>Je)},Qn=Promise.resolve(),Je=(()=>{class n extends me{constructor(t,i,r,o,s,u){super(),this._changeDetectorRef=s,this.callSetDisabledState=u,this.control=new Ye,this._registered=!1,this.name="",this.update=new pe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bi(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vi(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_t(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Qn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ht(i);Qn.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?gi(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(f(se,9),f(Ze,10),f(Ct,10),f(Ke,10),f(Gt,8),f(Qe,8))}}static{this.\u0275dir=V({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ie([jr]),q,Le]})}}return n})(),Ei=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=V({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var wi=new H("");var Gr={provide:se,useExisting:te(()=>sn)},sn=(()=>{class n extends se{get submitted(){return re(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=we(()=>this._submittedReactive()),this._submittedReactive=Ee(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return _t(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Yn(t.control||null,t,!1),kr(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),Ci(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Yt(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Kt(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Yn(i||null,t),Br(r)&&(_t(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);yi(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Pr(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){on(this.form,this),this._oldForm&&vt(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(f(Ze,10),f(Ct,10),f(Qe,8))}}static{this.\u0275dir=V({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&I("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ie([Gr]),q,Le]})}}return n})();var Hr={provide:me,useExisting:te(()=>an)},an=(()=>{class n extends me{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new pe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bi(this,o)}ngOnChanges(t){this._added||this._setUpControl(),vi(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(f(se,13),f(Ze,10),f(Ct,10),f(Ke,10),f(wi,8))}}static{this.\u0275dir=V({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ie([Hr]),q,Le]})}}return n})(),qr={provide:Ke,useExisting:te(()=>Ve),multi:!0};function xi(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Wr(n){return n.split(":")[0]}var Ve=(()=>{class n extends Jt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=xi(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Wr(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Be(n)))(r||n)}})()}static{this.\u0275dir=V({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ie([qr]),q]})}}return n})(),xt=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(xi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(f(je),f(He),f(Ve,9))}}static{this.\u0275dir=V({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),$r={provide:Ke,useExisting:te(()=>Di),multi:!0};function Jn(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function zr(n){return n.split(":")[0]}var Di=(()=>{class n extends Jt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let u=0;u<s.length;u++){let c=s[u],h=this._getOptionValue(c.value);r.push(h)}}else{let s=i.options;for(let u=0;u<s.length;u++){let c=s[u];if(c.selected){let h=this._getOptionValue(c.value);r.push(h)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=zr(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Be(n)))(r||n)}})()}static{this.\u0275dir=V({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ie([$r]),q]})}}return n})(),Dt=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Jn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Jn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(f(je),f(He),f(Di,9))}}static{this.\u0275dir=V({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var Xr=(()=>{class n{constructor(){this._validator=ht}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ht,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=V({type:n,features:[Le]})}}return n})();var Yr={provide:Ze,useExisting:te(()=>Kr),multi:!0};var Kr=(()=>{class n extends Xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ht,this.createValidator=t=>ii}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Be(n)))(r||n)}})()}static{this.\u0275dir=V({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&In("required",r._enabled?"":null)},inputs:{required:"required"},features:[ie([Yr]),q]})}}return n})();var Mi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})(),Qt=class extends Me{constructor(e,t,i){super(nn(t),rn(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){mi(this,!1,e),e.forEach((i,r)=>{pi(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ei(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ai=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return ei(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ae(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Zt(r,i)}control(t,i,r){let o={};return this.useNonNullable?(ei(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ye(t,S(y({},o),{nonNullable:!0}))):new Ye(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Qt(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Ye)return t;if(t instanceof Me)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ua=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qe,useValue:t.callSetDisabledState??wt}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mi]})}}return n})(),da=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Qe,useValue:t.callSetDisabledState??wt}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mi]})}}return n})();var Vi=(()=>{class n{constructor(t,i){this.firestore=t,this.authService=i}logAction(t,i,r){return R(this,null,function*(){let o=yield this.authService.getCurrentUser();if(!o)return;let s={userId:o.uid,email:o.email||"Unknown Email",action:t,details:i,status:r,timestamp:new Date};return this.firestore.collection("auditLogs").add(s)})}getAuditLogs(){return this.firestore.collection("auditLogs",t=>t.orderBy("timestamp","desc")).snapshotChanges().pipe(be(t=>t.map(i=>{let r=i.payload.doc.data();return y({id:i.payload.doc.id},r)})))}static{this.\u0275fac=function(i){return new(i||n)(D(K),D(Wn))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ii=(()=>{class n{constructor(t,i){this.firestore=t,this.auditLogService=i,this.collectionName="employees"}getOnboardedEmployees(){return this.firestore.collection(this.collectionName,t=>t.where("status","==","Active")).valueChanges({idField:"id"})}getOffboardedEmployees(){return this.firestore.collection(this.collectionName,t=>t.where("status","==","Offboarded")).valueChanges({idField:"id"})}getAllEmployees(){return this.firestore.collection(this.collectionName).valueChanges({idField:"id"})}onboardEmployee(t){return R(this,null,function*(){try{let i=S(y({},t),{status:"Active",onboardingDate:new Date}),r=yield this.firestore.collection(this.collectionName).add(i);return yield this.firestore.collection("onboarding").doc(r.id).set(y({employeeId:r.id},i)),yield this.auditLogService.logAction("ONBOARD_EMPLOYEE",`New employee added: ${r.id}`,"Successful"),{success:!0,employeeId:r.id}}catch(i){throw yield this.auditLogService.logAction("ONBOARD_EMPLOYEE",`Failed: ${i.message}`,"Failed"),i}})}updateEmployee(t,i){return R(this,null,function*(){try{yield this.firestore.collection(this.collectionName).doc(t).update(i),yield this.auditLogService.logAction("UPDATE_EMPLOYEE",`Updated: ${t}`,"Successful")}catch(r){throw yield this.auditLogService.logAction("UPDATE_EMPLOYEE",`Failed: ${r.message}`,"Failed"),r}})}static{this.\u0275fac=function(i){return new(i||n)(D(K),D(Vi))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function eo(n,e){if(n&1){let t=L();l(0,"div",7)(1,"div",8),ne(2,"img",9),a(),l(3,"div",10)(4,"strong"),d(5),a()(),l(6,"div",11)(7,"button",12),I("click",function(){let r=N(t).$implicit,o=g();return k(o.openModal(r))}),d(8,"View Details"),a()()()}if(n&2){let t=e.$implicit;p(2),_("src",t.profileImageUrl||"assets/default-profile.png",Ge),p(3),ae(t.name)}}function to(n,e){n&1&&(l(0,"div",13),d(1," No employees found. "),a())}function no(n,e){if(n&1){let t=L();l(0,"input",31),Y("ngModelChange",function(r){N(t);let o=g(2);return X(o.selectedEmployee.name,r)||(o.selectedEmployee.name=r),k(r)}),a()}if(n&2){let t=g(2);z("ngModel",t.selectedEmployee.name)}}function io(n,e){if(n&1&&(l(0,"span"),d(1),a()),n&2){let t=g(2);p(),ae(t.selectedEmployee.name)}}function ro(n,e){if(n&1){let t=L();l(0,"input",31),Y("ngModelChange",function(r){N(t);let o=g(2);return X(o.selectedEmployee.id,r)||(o.selectedEmployee.id=r),k(r)}),a()}if(n&2){let t=g(2);z("ngModel",t.selectedEmployee.id)}}function oo(n,e){if(n&1&&(l(0,"span"),d(1),a()),n&2){let t=g(2);p(),ae(t.selectedEmployee.id)}}function so(n,e){if(n&1){let t=L();l(0,"input",32),Y("ngModelChange",function(r){N(t);let o=g(2);return X(o.selectedEmployee.email,r)||(o.selectedEmployee.email=r),k(r)}),a()}if(n&2){let t=g(2);z("ngModel",t.selectedEmployee.email)}}function ao(n,e){if(n&1&&(l(0,"span"),d(1),a()),n&2){let t=g(2);p(),ae(t.selectedEmployee.email)}}function lo(n,e){if(n&1){let t=L();l(0,"input",33),Y("ngModelChange",function(r){N(t);let o=g(2);return X(o.selectedEmployee.employmentDate,r)||(o.selectedEmployee.employmentDate=r),k(r)}),a()}if(n&2){let t=g(2);z("ngModel",t.selectedEmployee.employmentDate)}}function co(n,e){if(n&1&&(l(0,"span"),d(1),a()),n&2){let t=g(2);p(),ae(t.selectedEmployee.employmentDate)}}function uo(n,e){if(n&1){let t=L();l(0,"select",34),Y("ngModelChange",function(r){N(t);let o=g(2);return X(o.selectedEmployee.employmentType,r)||(o.selectedEmployee.employmentType=r),k(r)}),l(1,"option",35),d(2,"Select"),a(),l(3,"option",36),d(4,"Full-time"),a(),l(5,"option",37),d(6,"Part-time"),a(),l(7,"option",38),d(8,"Probation"),a()()}if(n&2){let t=g(2);z("ngModel",t.selectedEmployee.employmentType)}}function ho(n,e){if(n&1&&(l(0,"span"),d(1),a()),n&2){let t=g(2);p(),ae(t.selectedEmployee.employmentType)}}function fo(n,e){if(n&1){let t=L();l(0,"select",34),Y("ngModelChange",function(r){N(t);let o=g(2);return X(o.selectedEmployee.department,r)||(o.selectedEmployee.department=r),k(r)}),l(1,"option",35),d(2,"Select"),a(),l(3,"option",39),d(4,"School Of Business and Accountancy (SBA)"),a(),l(5,"option",40),d(6,"School Of Engineering and Architecture (SEA)"),a(),l(7,"option",41),d(8,"School Of Arts and Sciences (SAS)"),a(),l(9,"option",42),d(10,"School Of Computing (SOC)"),a(),l(11,"option",43),d(12,"School Of Hospitality and Tourism Management (SHTM)"),a(),l(13,"option",44),d(14,"School Of Education (SED)"),a(),l(15,"option",45),d(16,"School Of Nursing and Allied Medical Sciences (SNAMS)"),a(),l(17,"option",46),d(18,"College of Criminal Justice Education and Forensics (CCJEF)"),a()()}if(n&2){let t=g(2);z("ngModel",t.selectedEmployee.department)}}function po(n,e){if(n&1&&(l(0,"span"),d(1),a()),n&2){let t=g(2);p(),ae(t.selectedEmployee.department)}}function mo(n,e){if(n&1){let t=L();l(0,"button",12),I("click",function(){N(t);let r=g(2);return k(r.enableEditing())}),d(1,"Edit"),a()}}function go(n,e){if(n&1){let t=L();l(0,"button",12),I("click",function(){N(t);let r=g(2);return k(r.saveUpdate())}),d(1,"Save"),a()}}function _o(n,e){if(n&1){let t=L();l(0,"div",14)(1,"div",15)(2,"div",16)(3,"h1"),d(4,"Employee Information"),a(),l(5,"span",17),I("click",function(){N(t);let r=g();return k(r.closeModal())}),d(6,"\xD7"),a()(),l(7,"div",18)(8,"div",19),ne(9,"img",20),a(),l(10,"div",21)(11,"div",22)(12,"label"),d(13,"Name:"),a(),U(14,no,1,1,"input",23)(15,io,2,1,"span",24),a(),l(16,"div",21)(17,"div",22)(18,"label"),d(19,"Employee ID:"),a(),U(20,ro,1,1,"input",23)(21,oo,2,1,"span",24),a(),l(22,"div",22)(23,"label"),d(24,"Email:"),a(),U(25,so,1,1,"input",25)(26,ao,2,1,"span",24),a(),l(27,"div",22)(28,"label"),d(29,"Employment Date:"),a(),U(30,lo,1,1,"input",26)(31,co,2,1,"span",24),a(),l(32,"div",22)(33,"label"),d(34,"Employment Type:"),a(),U(35,uo,9,1,"select",27)(36,ho,2,1,"span",24),a(),l(37,"div",22)(38,"label"),d(39,"Department:"),a(),U(40,fo,19,1,"select",27)(41,po,2,1,"span",24),a()()(),l(42,"div",28),U(43,mo,2,0,"button",29)(44,go,2,0,"button",29),l(45,"button",30),I("click",function(){N(t);let r=g();return k(r.closeModal())}),d(46,"Cancel"),a()()()()()}if(n&2){let t=g();p(9),_("src",t.selectedEmployee.profileImageUrl||"assets/default-profile.png",Ge),p(5),_("ngIf",t.isEditing),p(),_("ngIf",!t.isEditing),p(5),_("ngIf",t.isEditing),p(),_("ngIf",!t.isEditing),p(4),_("ngIf",t.isEditing),p(),_("ngIf",!t.isEditing),p(4),_("ngIf",t.isEditing),p(),_("ngIf",!t.isEditing),p(4),_("ngIf",t.isEditing),p(),_("ngIf",!t.isEditing),p(4),_("ngIf",t.isEditing),p(),_("ngIf",!t.isEditing),p(2),_("ngIf",!t.isEditing),p(),_("ngIf",t.isEditing)}}var _a=(()=>{class n{constructor(t){this.employeesService=t,this.employees=[],this.filteredEmployees=[],this.selectedEmployee=null,this.isEditing=!1,this.searchQuery=""}ngOnInit(){this.loadEmployees()}loadEmployees(){this.employeesService.getAllEmployees().subscribe(t=>{this.employees=t,this.filteredEmployees=[...this.employees]})}searchEmployee(t){this.filteredEmployees=this.employees.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))}openModal(t){this.selectedEmployee=y({},t)}closeModal(){this.selectedEmployee=null}enableEditing(){this.isEditing=!0}saveUpdate(){return R(this,null,function*(){if(this.selectedEmployee?.id)try{yield this.employeesService.updateEmployee(this.selectedEmployee.id,this.selectedEmployee),alert("Employee updated successfully!"),this.isEditing=!1}catch(t){alert("Error updating employee"),console.error(t)}})}static{this.\u0275fac=function(i){return new(i||n)(f(Ii))}}static{this.\u0275cmp=st({type:n,selectors:[["app-employee-info"]],decls:9,vars:4,consts:[[1,"content"],[1,"search"],["type","text","placeholder","Search employees",1,"search-box",3,"ngModelChange","input","ngModel"],[1,"employee-list"],["class","employee-item",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"employee-item"],[1,"profile-container"],["alt","No Image",1,"profile-img",3,"src"],[1,"text-container"],[1,"employee-actions"],[1,"button",3,"click"],[1,"no-data"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-image"],["alt","No Image",3,"src"],[1,"modal-details"],[1,"info-group"],["type","text","class","input-field",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["type","email","class","input-field",3,"ngModel","ngModelChange",4,"ngIf"],["type","date","class","input-field",3,"ngModel","ngModelChange",4,"ngIf"],["class","input-field",3,"ngModel","ngModelChange",4,"ngIf"],[1,"modal-footer"],["class","button",3,"click",4,"ngIf"],[1,"button","cancel",3,"click"],["type","text",1,"input-field",3,"ngModelChange","ngModel"],["type","email",1,"input-field",3,"ngModelChange","ngModel"],["type","date",1,"input-field",3,"ngModelChange","ngModel"],[1,"input-field",3,"ngModelChange","ngModel"],["value",""],["value","Full-time"],["value","Part-time"],["value","Probation"],["value","School Of Business and Accountancy (SBA)"],["value","School Of Engineering and Architecture (SEA)"],["value","School Of Arts and Sciences (SAS)"],["value","School Of Computing (SOC)"],["value","School Of Hospitality and Tourism Management (SHTM)"],["value","School Of Education (SED)"],["value","School Of Nursing and Allied Medical Sciences (SNAMS)"],["value","College of Criminal Justice Education and Forensics (CCJEF)"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"h1"),d(2,"Employee Information"),a(),l(3,"div",1)(4,"input",2),Y("ngModelChange",function(s){return X(r.searchQuery,s)||(r.searchQuery=s),s}),I("input",function(){return r.searchEmployee(r.searchQuery)}),a()(),l(5,"div",3),U(6,eo,9,2,"div",4),a(),U(7,to,2,0,"div",5)(8,_o,47,15,"div",6),a()),i&2&&(p(4),z("ngModel",r.searchQuery),p(2),_("ngForOf",r.filteredEmployees),p(),_("ngIf",(r.filteredEmployees==null?null:r.filteredEmployees.length)===0),p(),_("ngIf",r.selectedEmployee))},dependencies:[at,lt,xt,Dt,Se,Ve,bt,Je],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f9f9f9;margin:0;padding:0}.content[_ngcontent-%COMP%]{max-width:1000px;margin:20px auto;padding:20px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a}.search[_ngcontent-%COMP%]{text-align:right;margin-bottom:20px}.search-box[_ngcontent-%COMP%]{padding:8px;width:200px;border:1px solid #ddd;border-radius:4px}.employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.employee-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;border-bottom:1px solid #ddd}.profile-container[_ngcontent-%COMP%]{width:80px;height:80px;overflow:hidden;border-radius:50%;border:2px solid #ccc;display:flex;justify-content:center;align-items:center}.profile-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;margin-left:10px}.employee-actions[_ngcontent-%COMP%]{margin-left:auto}.button[_ngcontent-%COMP%]{padding:8px 12px;background-color:maroon;color:#fff;border:none;border-radius:5px;cursor:pointer}.button[_ngcontent-%COMP%]:hover{background-color:#333}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;max-width:600px;width:90%;text-align:center;font-size:18px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}h1[_ngcontent-%COMP%]{font-size:24px;margin:0}.close-btn[_ngcontent-%COMP%]{font-size:30px;color:red;cursor:pointer}.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px}.modal-image[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;margin-bottom:15px}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.modal-details[_ngcontent-%COMP%]{width:100%;text-align:left;display:flex;flex-direction:column;gap:12px}.info-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.info-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.input-field[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:16px;margin-top:5px;border:1px solid #ddd;border-radius:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:20px}.button[_ngcontent-%COMP%]{padding:10px 15px;border:none;cursor:pointer;border-radius:5px;font-size:16px}.button[_ngcontent-%COMP%]:hover{opacity:.8}.delete[_ngcontent-%COMP%]{background-color:red;color:#fff}.cancel[_ngcontent-%COMP%]{background-color:gray;color:#fff}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;font-size:16px}h1[_ngcontent-%COMP%]{font-size:20px}.button[_ngcontent-%COMP%]{font-size:14px}}"]})}}return n})();var Oi=(()=>{class n{constructor(t){this.firestore=t}getEmployees(){return this.firestore.collection("employees",t=>t.where("status","==","Active")).valueChanges({idField:"id"})}saveOffboardingData(t,i){return R(this,null,function*(){try{yield this.firestore.collection("offboarding").doc(t).set(S(y({},i),{timestamp:new Date})),yield this.firestore.collection("employees").doc(t).update({status:"Offboarded",offboardingDate:new Date}),console.log(`\u2705 Employee ${i.employeeName} successfully offboarded!`)}catch(r){throw console.error("\u274C Offboarding Error:",r),r}})}static{this.\u0275fac=function(i){return new(i||n)(D(K))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vo(n,e){if(n&1){let t=L();l(0,"li",25),I("click",function(){let r=N(t).$implicit,o=g(2);return k(o.selectEmployee(r))}),d(1),a()}if(n&2){let t=e.$implicit;p(),Tn(" ",t.name," (ID: ",t.id,") ")}}function Co(n,e){if(n&1&&(l(0,"ul",26),U(1,vo,2,2,"li",27),a()),n&2){let t=g();p(),_("ngForOf",t.filteredEmployees)}}var Ea=(()=>{class n{constructor(t,i,r){this.fb=t,this.offboardService=i,this.firestore=r,this.searchQuery="",this.filteredEmployees=[],this.employees=[],this.selectedEmployee=null}ngOnInit(){this.offboardForm=this.fb.group({effectiveDate:["",W.required],clearanceStatus:["",W.required],certificationStatus:["",W.required],personalEmail:["",[W.required,W.email]],exitInterview:["",W.required],recommendation:["",W.required],recommendationComment:[""],automatedNotification:["",W.required]}),this.firestore.collection("employees").valueChanges({idField:"id"}).subscribe(t=>{this.employees=t,console.log("\u{1F4CC} Loaded Employees:",this.employees)})}searchEmployees(){let t=this.searchQuery.toLowerCase();this.filteredEmployees=this.employees.filter(i=>i.id?.toString().includes(t)||i.name.toLowerCase().includes(t))}selectEmployee(t){this.selectedEmployee=t,this.searchQuery=`${t.name} (ID: ${t.id})`}submitForm(){return R(this,null,function*(){if(!this.selectedEmployee){alert("\u274C Please select an employee first!");return}if(this.offboardForm.valid){let t=S(y({},this.offboardForm.value),{employeeId:this.selectedEmployee?.id?.toString()||"",employeeName:this.selectedEmployee?.name||"Unknown",department:this.selectedEmployee?.department||"Unknown",profileImageUrl:this.selectedEmployee?.profileImageUrl||"",status:"Offboarded",timestamp:new Date});try{yield this.offboardService.saveOffboardingData(this.selectedEmployee?.id?.toString()||"",t),console.log("\u2705 Offboarding Successful!"),alert("\u2705 Offboarding details submitted successfully!")}catch(i){console.error("\u274C Offboarding Error:",i),alert("\u274C Error submitting offboarding details.")}}else alert("\u26A0\uFE0F Please complete all required fields.")})}static{this.\u0275fac=function(i){return new(i||n)(f(Ai),f(Oi),f(K))}}static{this.\u0275cmp=st({type:n,selectors:[["app-offboard"]],decls:79,vars:6,consts:[[1,"offboarding-container"],[1,"search-container"],["type","text","placeholder","Search by Last Name or Employee ID...",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],[3,"formGroup"],[1,"form-container"],[1,"section"],[1,"form-group"],["width","100","height","100",1,"user-icon","mx-auto",3,"src"],["type","text","readonly","",3,"value"],["type","date","formControlName","effectiveDate"],["formControlName","clearanceStatus"],["value",""],["value","Yes"],["value","No"],["formControlName","certificationStatus"],["type","email","formControlName","personalEmail","placeholder","Email@gmail.com"],["formControlName","exitInterview"],["value","Done"],["value","Pending"],["formControlName","recommendation"],["value","Rehire"],["value","Not Rehire"],["formControlName","recommendationComment","placeholder","Comment..."],["formControlName","automatedNotification"],[3,"click"],[1,"search-results"],[3,"click",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"h4"),d(2,"Offboarding"),a(),l(3,"div",1)(4,"input",2),Y("ngModelChange",function(s){return X(r.searchQuery,s)||(r.searchQuery=s),s}),I("input",function(){return r.searchEmployees()}),a(),U(5,Co,2,1,"ul",3),a(),l(6,"form",4)(7,"div",5)(8,"div",6)(9,"div",7),ne(10,"img",8),l(11,"label"),d(12),a()(),l(13,"div",7)(14,"label"),d(15,"Employee ID:"),a(),ne(16,"input",9),a(),l(17,"div",7)(18,"label"),d(19,"Effective Date Separated"),a(),ne(20,"input",10),a(),l(21,"div",7)(22,"label"),d(23,"Clearance Form"),a(),l(24,"select",11)(25,"option",12),d(26,"Select"),a(),l(27,"option",13),d(28,"Yes"),a(),l(29,"option",14),d(30,"No"),a()()(),l(31,"div",7)(32,"label"),d(33,"Certifications"),a(),l(34,"select",15)(35,"option",12),d(36,"Select"),a(),l(37,"option",13),d(38,"Yes"),a(),l(39,"option",14),d(40,"No"),a()()()(),l(41,"div",6)(42,"div",7)(43,"label"),d(44,"Personal Email:"),a(),ne(45,"input",16),a(),l(46,"div",7)(47,"label"),d(48,"Exit Interviews"),a(),l(49,"select",17)(50,"option",12),d(51,"Select"),a(),l(52,"option",18),d(53,"Done"),a(),l(54,"option",19),d(55,"Pending"),a()()(),l(56,"div",7)(57,"label"),d(58,"Recommendation"),a(),l(59,"select",20)(60,"option",12),d(61,"Select"),a(),l(62,"option",21),d(63,"Rehire"),a(),l(64,"option",22),d(65,"Not Rehire"),a()(),ne(66,"textarea",23),a(),l(67,"div",7)(68,"label"),d(69,"Automated Notification"),a(),l(70,"select",24)(71,"option",12),d(72,"Select"),a(),l(73,"option",13),d(74,"Yes"),a(),l(75,"option",14),d(76,"No"),a()()()()()(),l(77,"button",25),I("click",function(){return r.submitForm()}),d(78,"Submit"),a()()),i&2&&(p(4),z("ngModel",r.searchQuery),p(),_("ngIf",r.searchQuery&&r.filteredEmployees.length>0),p(),_("formGroup",r.offboardForm),p(4),_("src",(r.selectedEmployee==null?null:r.selectedEmployee.profileImageUrl)||"picpro.jpg",Ge),p(2),On("Name: ",(r.selectedEmployee==null?null:r.selectedEmployee.name)||"Not Selected",""),p(4),_("value",(r.selectedEmployee==null?null:r.selectedEmployee.id)||""))},dependencies:[at,lt,Ei,xt,Dt,Se,Ve,bt,fi,Je,sn,an],styles:[".offboarding-container[_ngcontent-%COMP%]{margin-left:250px;padding:40px}h4[_ngcontent-%COMP%]{font-size:45px;font-weight:700;border-bottom:2px solid #ddd;padding-bottom:35px}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:6px;font-size:16px;width:250px}.search-results[_ngcontent-%COMP%]{position:absolute;background:#fff;border:1px solid #ddd;border-radius:6px;width:250px;max-height:200px;overflow-y:auto}.search-results[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.search-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.search-results[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.form-container[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 10px #0000001a}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:12px;border:1px solid #ccc;border-radius:6px;font-size:16px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;background-color:#800020;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:18px}button[_ngcontent-%COMP%]:hover{background-color:#333}"]})}}return n})();var Da=(()=>{class n{constructor(t){this.firestore=t}saveEvaluation(t){return this.firestore.collection("evaluations").add(t)}getEvaluations(t){return this.firestore.collection("evaluations",i=>i.where("employeeId","==",t)).valueChanges()}getEmployeeEvaluations(t){return this.firestore.collection("evaluations",i=>i.where("employeeId","==",t).orderBy("date","desc")).valueChanges()}static{this.\u0275fac=function(i){return new(i||n)(D(K))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bi="firebasestorage.googleapis.com",ji="storageBucket",bo=2*60*1e3,Eo=10*60*1e3,wo=1e3;var E=class n extends Pn{constructor(e,t,i=0){super(ln(e),`Firebase Storage: ${t} (${ln(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ln(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},v=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(v||{});function ln(n){return"storage/"+n}function gn(){let n="An unknown error occurred, please check the error payload for server response.";return new E(v.UNKNOWN,n)}function xo(n){return new E(v.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Do(n){return new E(v.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mo(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new E(v.UNAUTHENTICATED,n)}function Ao(){return new E(v.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function So(n){return new E(v.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Gi(){return new E(v.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Hi(){return new E(v.CANCELED,"User canceled the upload/download.")}function Vo(n){return new E(v.INVALID_URL,"Invalid URL '"+n+"'.")}function Io(n){return new E(v.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Oo(){return new E(v.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ji+"' property when initializing the app?")}function qi(){return new E(v.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function To(){return new E(v.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ro(){return new E(v.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Fo(n){return new E(v.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _e(n){return new E(v.INVALID_ARGUMENT,n)}function Wi(){return new E(v.APP_DELETED,"The Firebase app was deleted.")}function _n(n){return new E(v.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tt(n,e){return new E(v.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function et(n){throw new E(v.INTERNAL_ERROR,"Internal error: "+n)}var P=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw Io(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}let s="(/(.*))?$",u=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function h(A){A.path_=decodeURIComponent(A.path)}let m="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",b=new RegExp(`^https?://${w}/${m}/b/${r}/o${C}`,"i"),x={bucket:1,path:3},j=t===Bi?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",J=new RegExp(`^https?://${j}/${r}/${M}`,"i"),T=[{regex:u,indices:c,postModify:o},{regex:b,indices:x,postModify:h},{regex:J,indices:{bucket:1,path:2},postModify:h}];for(let A=0;A<T.length;A++){let ve=T[A],Ce=ve.regex.exec(e);if(Ce){let kt=Ce[ve.indices.bucket],Ue=Ce[ve.indices.path];Ue||(Ue=""),i=new n(kt,Ue),ve.postModify(i);break}}if(i==null)throw Vo(e);return i}},un=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Po(n,e,t){let i=1,r=null,o=null,s=!1,u=0;function c(){return u===2}let h=!1;function m(...M){h||(h=!0,e.apply(null,M))}function w(M){r=setTimeout(()=>{r=null,n(b,c())},M)}function C(){o&&clearTimeout(o)}function b(M,...J){if(h){C();return}if(M){C(),m.call(null,M,...J);return}if(c()||s){C(),m.call(null,M,...J);return}i<64&&(i*=2);let T;u===1?(u=2,T=0):T=(i+Math.random())*1e3,w(T)}let x=!1;function j(M){x||(x=!0,C(),!h&&(r!==null?(M||(u=2),clearTimeout(r),w(0)):M||(u=1)))}return w(0),o=setTimeout(()=>{s=!0,j(!0)},t),j}function No(n){n(!1)}function ko(n){return n!==void 0}function Uo(n){return typeof n=="function"}function Lo(n){return typeof n=="object"&&!Array.isArray(n)}function Vt(n){return typeof n=="string"||n instanceof String}function Ti(n){return yn()&&n instanceof Blob}function yn(){return typeof Blob<"u"}function dn(n,e,t,i){if(i<e)throw _e(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw _e(`Invalid value for '${n}'. Expected ${t} or less.`)}function ue(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function $i(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Te=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Te||{});function zi(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var hn=class{constructor(e,t,i,r,o,s,u,c,h,m,w,C=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=w,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new Oe(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=u=>{let c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let u=o.getErrorCode()===Te.NO_ERROR,c=o.getStatus();if(!u||zi(c,this.additionalRetryCodes_)&&this.retry){let m=o.getErrorCode()===Te.ABORT;i(!1,new Oe(!1,null,m));return}let h=this.successCodes_.indexOf(c)!==-1;i(!0,new Oe(h,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,u=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(u,u.getResponse());ko(c)?o(c):o()}catch(c){s(c)}else if(u!==null){let c=gn();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(r.canceled){let c=this.appDelete_?Wi():Hi();s(c)}else{let c=Gi();s(c)}};this.canceled_?t(!1,new Oe(!1,null,!0)):this.backoffId_=Po(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&No(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Oe=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function Bo(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function jo(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Go(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Ho(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function qo(n,e,t,i,r,o,s=!0){let u=$i(n.urlParams),c=n.url+u,h=Object.assign({},n.headers);return Go(h,e),Bo(h,t),jo(h,o),Ho(h,i),new hn(c,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function Wo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $o(...n){let e=Wo();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(yn())return new Blob(n);throw new E(v.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zo(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function Xo(n){if(typeof atob>"u")throw Fo("base-64");return atob(n)}var B={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},nt=class{constructor(e,t){this.data=e,this.contentType=t||null}};function vn(n,e){switch(n){case B.RAW:return new nt(Xi(e));case B.BASE64:case B.BASE64URL:return new nt(Yi(n,e));case B.DATA_URL:return new nt(Ko(e),Zo(e))}throw gn()}function Xi(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=n.charCodeAt(++t);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Yo(n){let e;try{e=decodeURIComponent(n)}catch{throw tt(B.DATA_URL,"Malformed data URL.")}return Xi(e)}function Yi(n,e){switch(n){case B.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw tt(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case B.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw tt(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Xo(e)}catch(r){throw r.message.includes("polyfill")?r:tt(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var St=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw tt(B.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=Qo(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function Ko(n){let e=new St(n);return e.base64?Yi(B.BASE64,e.rest):Yo(e.rest)}function Zo(n){return new St(n).contentType}function Qo(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Re=class n{constructor(e,t){let i=0,r="";Ti(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ti(this.data_)){let i=this.data_,r=zo(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(yn()){let t=e.map(i=>i instanceof n?i.data_:i);return new n($o.apply(null,t))}else{let t=e.map(s=>Vt(s)?vn(B.RAW,s).data:s.data_),i=0;t.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return t.forEach(s=>{for(let u=0;u<s.length;u++)r[o++]=s[u]}),new n(r,!0)}}uploadData(){return this.data_}};function Cn(n){let e;try{e=JSON.parse(n)}catch{return null}return Lo(e)?e:null}function Jo(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function es(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function Ki(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function ts(n,e){return e}var O=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||ts}},At=null;function ns(n){return!Vt(n)||n.length<2?n:Ki(n)}function It(){if(At)return At;let n=[];n.push(new O("bucket")),n.push(new O("generation")),n.push(new O("metageneration")),n.push(new O("name","fullPath",!0));function e(o,s){return ns(s)}let t=new O("name");t.xform=e,n.push(t);function i(o,s){return s!==void 0?Number(s):s}let r=new O("size");return r.xform=i,n.push(r),n.push(new O("timeCreated")),n.push(new O("updated")),n.push(new O("md5Hash",null,!0)),n.push(new O("cacheControl",null,!0)),n.push(new O("contentDisposition",null,!0)),n.push(new O("contentEncoding",null,!0)),n.push(new O("contentLanguage",null,!0)),n.push(new O("contentType",null,!0)),n.push(new O("metadata","customMetadata",!0)),At=n,At}function is(n,e){function t(){let i=n.bucket,r=n.fullPath,o=new P(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function rs(n,e,t){let i={};i.type="file";let r=t.length;for(let o=0;o<r;o++){let s=t[o];i[s.local]=s.xform(i,e[s.server])}return is(i,n),i}function Zi(n,e,t){let i=Cn(e);return i===null?null:rs(n,i,t)}function os(n,e,t,i){let r=Cn(e);if(r===null||!Vt(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(h=>{let m=n.bucket,w=n.fullPath,C="/b/"+s(m)+"/o/"+s(w),b=ue(C,t,i),x=$i({alt:"media",token:h});return b+x})[0]}function bn(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var Ri="prefixes",Fi="items";function ss(n,e,t){let i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Ri])for(let r of t[Ri]){let o=r.replace(/\/$/,""),s=n._makeStorageReference(new P(e,o));i.prefixes.push(s)}if(t[Fi])for(let r of t[Fi]){let o=n._makeStorageReference(new P(e,r.name));i.items.push(o)}return i}function as(n,e,t){let i=Cn(t);return i===null?null:ss(n,e,i)}var $=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Q(n){if(!n)throw gn()}function Ot(n,e){function t(i,r){let o=Zi(n,r,e);return Q(o!==null),o}return t}function ls(n,e){function t(i,r){let o=as(n,e,r);return Q(o!==null),o}return t}function cs(n,e){function t(i,r){let o=Zi(n,r,e);return Q(o!==null),os(o,r,n.host,n._protocol)}return t}function Ne(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=Ao():r=Mo():t.getStatus()===402?r=Do(n.bucket):t.getStatus()===403?r=So(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Tt(n){let e=Ne(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=xo(n.path)),o.serverResponse=r.serverResponse,o}return t}function Qi(n,e,t){let i=e.fullServerUrl(),r=ue(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,u=new $(r,o,Ot(n,t),s);return u.errorHandler=Tt(e),u}function us(n,e,t,i,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),u=ue(s,n.host,n._protocol),c="GET",h=n.maxOperationRetryTime,m=new $(u,c,ls(n,e.bucket),h);return m.urlParams=o,m.errorHandler=Ne(e),m}function ds(n,e,t){let i=e.fullServerUrl(),r=ue(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,u=new $(r,o,cs(n,t),s);return u.errorHandler=Tt(e),u}function hs(n,e,t,i){let r=e.fullServerUrl(),o=ue(r,n.host,n._protocol),s="PATCH",u=bn(t,i),c={"Content-Type":"application/json; charset=utf-8"},h=n.maxOperationRetryTime,m=new $(o,s,Ot(n,i),h);return m.headers=c,m.body=u,m.errorHandler=Tt(e),m}function fs(n,e){let t=e.fullServerUrl(),i=ue(t,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function s(c,h){}let u=new $(i,r,s,o);return u.successCodes=[200,204],u.errorHandler=Tt(e),u}function ps(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Ji(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=ps(null,e)),i}function ms(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let T="";for(let A=0;A<2;A++)T=T+Math.random().toString().slice(2);return T}let c=u();s["Content-Type"]="multipart/related; boundary="+c;let h=Ji(e,i,r),m=bn(h,t),w="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,C=`\r
--`+c+"--",b=Re.getBlob(w,i,C);if(b===null)throw qi();let x={name:h.fullPath},j=ue(o,n.host,n._protocol),M="POST",J=n.maxUploadRetryTime,ee=new $(j,M,Ot(n,t),J);return ee.urlParams=x,ee.headers=s,ee.body=b.uploadData(),ee.errorHandler=Ne(e),ee}var Fe=class{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}};function En(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Q(!1)}return Q(!!t&&(e||["active"]).indexOf(t)!==-1),t}function gs(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s=Ji(e,i,r),u={name:s.fullPath},c=ue(o,n.host,n._protocol),h="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},w=bn(s,t),C=n.maxUploadRetryTime;function b(j){En(j);let M;try{M=j.getResponseHeader("X-Goog-Upload-URL")}catch{Q(!1)}return Q(Vt(M)),M}let x=new $(c,h,b,C);return x.urlParams=u,x.headers=m,x.body=w,x.errorHandler=Ne(e),x}function _s(n,e,t,i){let r={"X-Goog-Upload-Command":"query"};function o(h){let m=En(h,["active","final"]),w=null;try{w=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Q(!1)}w||Q(!1);let C=Number(w);return Q(!isNaN(C)),new Fe(C,i.size(),m==="final")}let s="POST",u=n.maxUploadRetryTime,c=new $(t,s,o,u);return c.headers=r,c.errorHandler=Ne(e),c}var Pi=256*1024;function ys(n,e,t,i,r,o,s,u){let c=new Fe(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw To();let h=c.total-c.current,m=h;r>0&&(m=Math.min(m,r));let w=c.current,C=w+m,b="";m===0?b="finalize":h===m?b="upload, finalize":b="upload";let x={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${c.current}`},j=i.slice(w,C);if(j===null)throw qi();function M(A,ve){let Ce=En(A,["active","final"]),kt=c.current+m,Ue=i.size(),Ut;return Ce==="final"?Ut=Ot(e,o)(A,ve):Ut=null,new Fe(kt,Ue,Ce==="final",Ut)}let J="POST",ee=e.maxUploadRetryTime,T=new $(t,J,M,ee);return T.headers=x,T.body=j.uploadData(),T.progressCallback=u||null,T.errorHandler=Ne(n),T}var er={STATE_CHANGED:"state_changed"},F={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cn(n){switch(n){case"running":case"pausing":case"canceling":return F.RUNNING;case"paused":return F.PAUSED;case"success":return F.SUCCESS;case"canceled":return F.CANCELED;case"error":return F.ERROR;default:return F.ERROR}}var fn=class{constructor(e,t,i){if(Uo(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Ie(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var Ni=null,pn=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Te.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Te.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Te.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},mn=class extends pn{initXhr(){this.xhr_.responseType="text"}};function Z(){return Ni?Ni():new mn}var it=class{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=It(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(v.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(zi(r.status,[]))if(o)r=Gi();else{this.sleepTime=Math.max(this.sleepTime*2,wo),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(v.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let i=gs(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Z,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,i)=>{let r=_s(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Z,t,i);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Pi*this._chunkMultiplier,t=new Fe(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=ys(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let u=this._ref.storage._makeRequest(s,Z,r,o,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Pi*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let i=Qi(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Z,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let i=ms(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Z,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Hi(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=cn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){let o=new fn(t||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(cn(this._state)){case F.SUCCESS:Ie(this._resolve.bind(null,this.snapshot))();break;case F.CANCELED:case F.ERROR:let t=this._reject;Ie(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cn(this._state)){case F.RUNNING:case F.PAUSED:e.next&&Ie(e.next.bind(e,this.snapshot))();break;case F.SUCCESS:e.complete&&Ie(e.complete.bind(e))();break;case F.CANCELED:case F.ERROR:e.error&&Ie(e.error.bind(e,this._error))();break;default:e.error&&Ie(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Pe=class n{constructor(e,t){this._service=e,t instanceof P?this._location=t:this._location=P.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new P(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ki(this._location.path)}get storage(){return this._service}get parent(){let e=Jo(this._location.path);if(e===null)return null;let t=new P(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw _n(e)}};function vs(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new it(n,new Re(e),t)}function Cs(n){let e={prefixes:[],items:[]};return tr(n,e).then(()=>e)}function tr(n,e,t){return R(this,null,function*(){let r=yield nr(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield tr(n,e,r.nextPageToken))})}function nr(n,e){e!=null&&typeof e.maxResults=="number"&&dn("options.maxResults",1,1e3,e.maxResults);let t=e||{},i=us(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Z)}function bs(n){n._throwIfRoot("getMetadata");let e=Qi(n.storage,n._location,It());return n.storage.makeRequestWithTokens(e,Z)}function Es(n,e){n._throwIfRoot("updateMetadata");let t=hs(n.storage,n._location,e,It());return n.storage.makeRequestWithTokens(t,Z)}function ws(n){n._throwIfRoot("getDownloadURL");let e=ds(n.storage,n._location,It());return n.storage.makeRequestWithTokens(e,Z).then(t=>{if(t===null)throw Ro();return t})}function xs(n){n._throwIfRoot("deleteObject");let e=fs(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Z)}function ir(n,e){let t=es(n._location.path,e),i=new P(n._location.bucket,t);return new Pe(n.storage,i)}function Ds(n){return/^[A-Za-z]+:\/\//.test(n)}function Ms(n,e){return new Pe(n,e)}function rr(n,e){if(n instanceof rt){let t=n;if(t._bucket==null)throw Oo();let i=new Pe(t,t._bucket);return e!=null?rr(i,e):i}else return e!==void 0?ir(n,e):n}function As(n,e){if(e&&Ds(e)){if(n instanceof rt)return Ms(n,e);throw _e("To use ref(service, url), the first argument must be a Storage instance.")}else return rr(n,e)}function ki(n,e){let t=e?.[ji];return t==null?null:P.makeFromBucketSpec(t,n)}function Ss(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Fn(r,n.app.options.projectId))}var rt=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Bi,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bo,this._maxUploadRetryTime=Eo,this._requests=new Set,r!=null?this._bucket=P.makeFromBucketSpec(r,this._host):this._bucket=ki(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=P.makeFromBucketSpec(this._url,e):this._bucket=ki(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dn("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dn("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return R(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return R(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pe(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new un(Wi());{let s=qo(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return R(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},Ui="@firebase/storage",Li="0.13.2";var Vs="storage";function or(n,e,t){return n=oe(n),vs(n,e,t)}function sr(n){return n=oe(n),bs(n)}function ar(n,e){return n=oe(n),Es(n,e)}function lr(n,e){return n=oe(n),nr(n,e)}function cr(n){return n=oe(n),Cs(n)}function ur(n){return n=oe(n),ws(n)}function dr(n){return n=oe(n),xs(n)}function wn(n,e){return n=oe(n),As(n,e)}function hr(n,e){return ir(n,e)}function fr(n,e,t,i={}){Ss(n,e,t,i)}function Is(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new rt(t,i,r,e,kn)}function Os(){Nn(new ct(Vs,Is,"PUBLIC").setMultipleInstances(!0)),Wt(Ui,Li,""),Wt(Ui,Li,"esm2017")}Os();var ke=class{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Rt=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ke(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new ke(i,this,this._ref))},t)}on(e,t,i,r){let o;return t&&(typeof t=="function"?o=s=>t(new ke(s,this,this._ref)):o={next:t.next?s=>t.next(new ke(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}},Ft=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ye(e,this._service))}get items(){return this._delegate.items.map(e=>new ye(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var ye=class n{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=hr(this._delegate,e);return new n(t,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new n(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Rt(or(this._delegate,e,t),this)}putString(e,t=B.RAW,i){this._throwIfRoot("putString");let r=vn(t,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new Rt(new it(this._delegate,new Re(r.data,!0),o),this)}listAll(){return cr(this._delegate).then(e=>new Ft(e,this.storage))}list(e){return lr(this._delegate,e||void 0).then(t=>new Ft(t,this.storage))}getMetadata(){return sr(this._delegate)}updateMetadata(e){return ar(this._delegate,e)}getDownloadURL(){return ur(this._delegate)}delete(){return this._throwIfRoot("delete"),dr(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw _n(e)}};var Pt=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(pr(e))throw _e("ref() expected a child path but got a URL, use refFromURL instead.");return new ye(wn(this._delegate,e),this)}refFromURL(e){if(!pr(e))throw _e("refFromURL() expected a full URL but got a child path, use ref() instead.");try{P.makeFromUrl(e,this._delegate.host)}catch{throw _e("refFromUrl() expected a valid full URL but got an invalid one.")}return new ye(wn(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){fr(this._delegate,e,t,i)}};function pr(n){return/^[A-Za-z]+:\/\//.test(n)}var Ts="@firebase/storage-compat",Rs="0.3.12";var Fs="storage-compat";function Ps(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Pt(t,i)}function Ns(n){let e={TaskState:F,TaskEvent:er,StringFormat:B,Storage:Pt,Reference:ye};n.INTERNAL.registerComponent(new ct(Fs,Ps,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(Ts,Rs)}Ns(ut);function ks(n){return new xn(e=>{let t=s=>e.next(s),i=s=>e.error(s),r=()=>e.complete();t(n.snapshot);let o=n.on("state_changed",t);return n.then(s=>{t(s),r()},s=>{t(n.snapshot),i(s)}),function(){o()}}).pipe(An(0))}function mr(n){let e=ks(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(be(t=>t.bytesTransferred/t.totalBytes*100))}}function Nt(n){return{getDownloadURL:()=>Lt(void 0).pipe($t,Bt(()=>n.getDownloadURL()),zt),getMetadata:()=>Lt(void 0).pipe($t,Bt(()=>n.getMetadata()),zt),delete:()=>de(n.delete()),child:e=>Nt(n.child(e)),updateMetadata:e=>de(n.updateMetadata(e)),put:(e,t)=>{let i=n.put(e,t);return mr(i)},putString:(e,t,i)=>{let r=n.putString(e,t,i);return mr(r)},list:e=>de(n.list(e)),listAll:()=>de(n.listAll())}}var Us=new H("angularfire2.storageBucket"),Ls=new H("angularfire2.storage.maxUploadRetryTime"),Bs=new H("angularfire2.storage.maxOperationRetryTime"),js=new H("angularfire2.storage.use-emulator"),Gs=(()=>{class n{storage;constructor(t,i,r,o,s,u,c,h,m,w){let C=Hn(t,s,i);this.storage=qn(`${C.name}.storage.${r}`,"AngularFireStorage",C.name,()=>{let b=s.runOutsideAngular(()=>C.storage(r||void 0)),x=m;return x&&b.useEmulator(...x),c&&b.setMaxUploadRetryTime(c),h&&b.setMaxOperationRetryTime(h),b},[c,h])}ref(t){return Nt(this.storage.ref(t))}refFromURL(t){return Nt(this.storage.refFromURL(t))}upload(t,i,r){let o=this.storage.ref(t);return Nt(o).put(i,r)}static \u0275fac=function(i){return new(i||n)(D(jn),D(Gn,8),D(Us,8),D(Vn),D(Sn),D(Bn),D(Ls,8),D(Bs,8),D(js,8),D(Ln,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var Hs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=fe({type:n});static \u0275inj=he({})}return n})(),rl=(()=>{class n{constructor(){ut.registerVersion("angularfire",Un.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=fe({type:n});static \u0275inj=he({providers:[Gs],imports:[Hs]})}return n})();export{Se as a,bt as b,fi as c,Lr as d,Je as e,Ei as f,Ve as g,xt as h,Dt as i,Kr as j,ua as k,da as l,Vi as m,Ii as n,_a as o,Oi as p,Ea as q,Da as r,Gs as s,rl as t};
